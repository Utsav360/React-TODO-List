/*! For license information please see index.js.LICENSE.txt */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("PanoptoCore"),require("React"),require("PanoptoReactComponents"),require("Hls"),require("_"),require("jQuery")):"function"==typeof define&&define.amd?define(["PanoptoCore","React","PanoptoReactComponents","Hls","_","jQuery"],t):"object"==typeof exports?exports.PanoptoViewer=t(require("PanoptoCore"),require("React"),require("PanoptoReactComponents"),require("Hls"),require("_"),require("jQuery")):e.PanoptoViewer=t(e.PanoptoCore,e.React,e.PanoptoReactComponents,e.Hls,e._,e.jQuery)}(window,(function(e,t,n,i,o,r){return function(e){var t={};function n(i){if(t[i])return t[i].exports;var o=t[i]={i:i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(i,o,function(t){return e[t]}.bind(null,o));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/dist/",n(n.s=15)}([function(t,n){t.exports=e},function(e,n){e.exports=t},function(e,t){e.exports=n},function(e,t,n){var i;!function(){"use strict";var n={}.hasOwnProperty;function o(){for(var e=[],t=0;t<arguments.length;t++){var i=arguments[t];if(i){var r=typeof i;if("string"===r||"number"===r)e.push(i);else if(Array.isArray(i)){if(i.length){var a=o.apply(null,i);a&&e.push(a)}}else if("object"===r)if(i.toString===Object.prototype.toString)for(var s in i)n.call(i,s)&&i[s]&&e.push(s);else e.push(i.toString())}}return e.join(" ")}e.exports?(o.default=o,e.exports=o):void 0===(i=function(){return o}.apply(t,[]))||(e.exports=i)}()},function(e,t){e.exports=i},function(e,t){e.exports=o},function(e,t,n){"use strict";var i,o=function(){return void 0===i&&(i=Boolean(window&&document&&document.all&&!window.atob)),i},r=function(){var e={};return function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}e[t]=n}return e[t]}}(),a=[];function s(e){for(var t=-1,n=0;n<a.length;n++)if(a[n].identifier===e){t=n;break}return t}function l(e,t){for(var n={},i=[],o=0;o<e.length;o++){var r=e[o],l=t.base?r[0]+t.base:r[0],c=n[l]||0,u="".concat(l," ").concat(c);n[l]=c+1;var d=s(u),p={css:r[1],media:r[2],sourceMap:r[3]};-1!==d?(a[d].references++,a[d].updater(p)):a.push({identifier:u,updater:y(p,t),references:1}),i.push(u)}return i}function c(e){var t=document.createElement("style"),i=e.attributes||{};if(void 0===i.nonce){var o=n.nc;o&&(i.nonce=o)}if(Object.keys(i).forEach((function(e){t.setAttribute(e,i[e])})),"function"==typeof e.insert)e.insert(t);else{var a=r(e.insert||"head");if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(t)}return t}var u,d=(u=[],function(e,t){return u[e]=t,u.filter(Boolean).join("\n")});function p(e,t,n,i){var o=n?"":i.media?"@media ".concat(i.media," {").concat(i.css,"}"):i.css;if(e.styleSheet)e.styleSheet.cssText=d(t,o);else{var r=document.createTextNode(o),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(r,a[t]):e.appendChild(r)}}function A(e,t,n){var i=n.css,o=n.media,r=n.sourceMap;if(o?e.setAttribute("media",o):e.removeAttribute("media"),r&&"undefined"!=typeof btoa&&(i+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(r))))," */")),e.styleSheet)e.styleSheet.cssText=i;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(i))}}var h=null,f=0;function y(e,t){var n,i,o;if(t.singleton){var r=f++;n=h||(h=c(t)),i=p.bind(null,n,r,!1),o=p.bind(null,n,r,!0)}else n=c(t),i=A.bind(null,n,t),o=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)};return i(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;i(e=t)}else o()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=o());var n=l(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var i=0;i<n.length;i++){var o=s(n[i]);a[o].references--}for(var r=l(e,t),c=0;c<n.length;c++){var u=s(n[c]);0===a[u].references&&(a[u].updater(),a.splice(u,1))}n=r}}}},function(e,t,n){"use strict";function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null==n)return;var i,o,r=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(i=n.next()).done)&&(r.push(i.value),!t||r.length!==t);a=!0);}catch(e){s=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}e.exports=function(e){var t=i(e,4),n=t[1],o=t[3];if(!o)return n;if("function"==typeof btoa){var r=btoa(unescape(encodeURIComponent(JSON.stringify(o)))),a="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(r),s="/*# ".concat(a," */"),l=o.sources.map((function(e){return"/*# sourceURL=".concat(o.sourceRoot||"").concat(e," */")}));return[n].concat(l).concat([s]).join("\n")}return[n].join("\n")}},function(e,t,n){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=e(t);return t[2]?"@media ".concat(t[2]," {").concat(n,"}"):n})).join("")},t.i=function(e,n,i){"string"==typeof e&&(e=[[null,e,""]]);var o={};if(i)for(var r=0;r<this.length;r++){var a=this[r][0];null!=a&&(o[a]=!0)}for(var s=0;s<e.length;s++){var l=[].concat(e[s]);i&&o[l[0]]||(n&&(l[2]?l[2]="".concat(n," and ").concat(l[2]):l[2]=n),t.push(l))}},t}},function(e,t){e.exports=r},function(e,t,n){"use strict";var i=n(7),o=n.n(i),r=n(8),a=n.n(r)()(o.a);a.push([e.i,".buffering-indicator-container {\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n","",{version:3,sources:["webpack://./lib/Controls/BufferingIndicator.less"],names:[],mappings:"AAAA;EACI,kBAAA;EACA,MAAA;EACA,SAAA;EACA,OAAA;EACA,QAAA;EAEA,aAAA;EACA,mBAAA;EACA,uBAAA;AAAJ",sourcesContent:[".buffering-indicator-container {\n    position: absolute;\n    top: 0;\n    bottom: 0;\n    left: 0;\n    right: 0;\n\n    display: flex;\n    align-items: center;\n    justify-content: center;\n}\n"],sourceRoot:""}]),t.a=a},function(e,t,n){"use strict";var i=n(7),o=n.n(i),r=n(8),a=n.n(r)()(o.a);a.push([e.i,"#timelineControls {\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  user-select: none;\n}\n#timelineControls .layer {\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  visibility: hidden;\n  opacity: 0;\n  transition: opacity 0.15s, visibility 0.15s;\n}\n#timelineControls .layer.visible {\n  visibility: visible;\n  opacity: 1;\n  transition: opacity 0.15s, visibility 0.15s;\n}\n#timelineControls .layer.slow-fade {\n  transition: opacity 1s, visibility 1s;\n}\n#timelineControls .control-layer {\n  display: flex;\n  flex-direction: column;\n}\n#timelineControls .control-layer .row-filler {\n  flex-grow: 1;\n  pointer-events: none;\n}\n#timelineControls .control-layer .row-control {\n  display: flex;\n  align-items: center;\n}\n#timelineControls .control-layer .row-control .right-group {\n  display: flex;\n  align-items: center;\n}\n#timelineControls .control-layer .row-control .center-group {\n  flex-grow: 1;\n}\n#timelineControls .control-layer .seek-bar {\n  margin: 2px 16px;\n  margin-right: 18px;\n  width: 100%;\n}\n#timelineControls .mobile-control-layer {\n  display: flex;\n  justify-content: center;\n  pointer-events: none;\n}\n","",{version:3,sources:["webpack://./lib/Controls/TimelineControls.less"],names:[],mappings:"AAEA;EAII,kBAAA;EACA,MAAA;EACA,OAAA;EACA,QAAA;EACA,SAAA;EAGA,iBAAA;AANJ;AALA;EAcQ,kBAAA;EACA,MAAA;EACA,OAAA;EACA,QAAA;EACA,SAAA;EAGA,kBAAA;EACA,UAAA;EAUA,2CAAA;AAjBR;AAUQ;EACI,mBAAA;EACA,UAAA;EACA,2CAAA;AARZ;AAaQ;EACI,qCAAA;AAXZ;AAvBA;EAuCQ,aAAA;EACA,sBAAA;AAbR;AA3BA;EA2CY,YAAA;EACA,oBAAA;AAbZ;AA/BA;EAgDY,aAAA;EACA,mBAAA;AAdZ;AAnCA;EAoDgB,aAAA;EACA,mBAAA;AAdhB;AAvCA;EAyDgB,YAAA;AAfhB;AA1CA;EA8DY,gBAAA;EACA,kBAAA;EACA,WAAA;AAjBZ;AA/CA;EAqEQ,aAAA;EACA,uBAAA;EACA,oBAAA;AAnBR",sourcesContent:['@import "Common.less";\n\n#timelineControls {\n    @fade-duration: 0.15s;\n    @slow-fade-duration: 1s;\n\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n\n    // Disallow any text selection in this DOM tree.\n    user-select: none;\n\n    .layer {\n        position: absolute;\n        top: 0;\n        left: 0;\n        right: 0;\n        bottom: 0;\n\n        // Initially layer is invisible...\n        visibility: hidden;\n        opacity: 0;\n\n        // ...but when hovered/focused, it becomes visible.\n        &.visible {\n            visibility: visible;\n            opacity: 1;\n            transition: opacity @fade-duration, visibility @fade-duration;\n        }\n\n        // Visibility transition is gradual.\n        transition: opacity @fade-duration, visibility @fade-duration;\n        &.slow-fade {\n            transition: opacity @slow-fade-duration, visibility @slow-fade-duration;\n        }\n    }\n\n    .control-layer {\n        display: flex;\n        flex-direction: column;\n\n        .row-filler {\n            flex-grow: 1;\n            pointer-events: none;\n        }\n\n        .row-control {\n            display: flex;\n            align-items: center;\n\n            .right-group {\n                display: flex;\n                align-items: center;\n            }\n    \n            .center-group {\n                flex-grow: 1;\n            }\n        }\n\n        .seek-bar {\n            margin: 2px 16px;\n            margin-right: 18px;\n            width: 100%;\n        }\n    }\n\n    .mobile-control-layer {\n        display: flex;\n        justify-content: center;\n        pointer-events: none;\n    }\n}\n'],sourceRoot:""}]),t.a=a},function(e,t,n){"use strict";var i=n(7),o=n.n(i),r=n(8),a=n.n(r)()(o.a);a.push([e.i,"#mobilePlaybackControls {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  width: 328px;\n  height: 100%;\n  pointer-events: none;\n}\n#mobilePlaybackControls .button-control {\n  pointer-events: initial;\n}\n#mobilePlaybackControls .play-pause {\n  font-size: 104px;\n}\n#mobilePlaybackControls .rewind-forward {\n  font-size: 64px;\n}\n#mobilePlaybackControls .rewind-forward.disabled {\n  filter: opacity(0.3);\n}\n#mobilePlaybackControls .rewind-forward.seek-disabled {\n  filter: opacity(0);\n}\n@media screen and (max-width: 500px) {\n  #mobilePlaybackControls {\n    width: 208px;\n  }\n  #mobilePlaybackControls .play-pause {\n    font-size: 56px;\n  }\n  #mobilePlaybackControls .rewind-forward {\n    font-size: 36px;\n  }\n}\n","",{version:3,sources:["webpack://./lib/Controls/TimelineMobilePlaybackControls.less"],names:[],mappings:"AAAA;EAKI,aAAA;EACA,8BAAA;EACA,mBAAA;EACA,YAAA;EACA,YAAA;EAGA,oBAAA;AALJ;AAPA;EAeQ,uBAAA;AALR;AAVA;EAmBQ,gBAAA;AANR;AAbA;EAuBQ,eAAA;AAPR;AASQ;EACI,oBAAA;AAPZ;AAUQ;EACI,kBAAA;AARZ;AAaA;EACI;IAKI,YAAA;EAfN;EAUE;IAQQ,eAAA;EAfV;EAOE;IAYQ,eAAA;EAhBV;AACF",sourcesContent:["#mobilePlaybackControls {\n    @control-primary-large: 104px;\n    @control-secondary-large: 64px;\n    @control-margin-large: 48px;\n\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    width: @control-primary-large + (2 * (@control-secondary-large + @control-margin-large));\n    height: 100%;\n\n    // Don't allow pointer events on this layer...\n    pointer-events: none;\n    // ...but do allow pointer events on the buttons on this layer.\n    .button-control {\n        pointer-events: initial;\n    }\n\n    .play-pause {\n        font-size: @control-primary-large;\n    }\n    \n    .rewind-forward {\n        font-size: @control-secondary-large;\n\n        &.disabled {\n            filter: opacity(0.3);\n        }\n\n        &.seek-disabled {\n            filter: opacity(0);\n        }\n    }\n}\n\n@media screen and (max-width: 500px) {\n    #mobilePlaybackControls {\n        @control-primary-small: 56px;\n        @control-secondary-small: 36px;\n        @control-margin-small: 40px;\n\n        width: @control-primary-small + (2 * (@control-secondary-small + @control-margin-small));\n\n        .play-pause {\n            font-size: @control-primary-small;\n        }\n\n        .rewind-forward {\n            font-size: @control-secondary-small;\n        }\n    }\n}\n"],sourceRoot:""}]),t.a=a},function(e,t,n){"use strict";var i=n(7),o=n.n(i),r=n(8),a=n.n(r)()(o.a);a.push([e.i,"#navigationControls {\n  display: flex;\n  align-items: center;\n  user-select: none;\n}\n#navigationControls .button-control {\n  font-size: 24px;\n  padding: 12px;\n}\n#navigationControls .button-control.playback-rate {\n  font-size: 15px;\n  padding: 15px 0;\n  width: 48px;\n  text-align: center;\n}\n#navigationControls .playback-rate-menu {\n  position: absolute;\n  right: 8px;\n  bottom: 48px;\n  width: 80px;\n  padding: 4px;\n  display: none;\n  text-align: right;\n}\n#navigationControls .playback-rate-menu.visible {\n  display: block;\n}\n#navigationControls .playback-rate-menu .playback-rate-header {\n  padding: 2px;\n  font-size: 12px;\n}\n#navigationControls .playback-rate-menu .playback-rate-item {\n  padding: 2px;\n  font-size: 15px;\n}\n#navigationControls .playback-rate-menu .selected {\n  font-weight: bold;\n}\n","",{version:3,sources:["webpack://./lib/Controls/TimelineNavigationControls.less"],names:[],mappings:"AAEA;EACI,aAAA;EACA,mBAAA;EAGA,iBAAA;AAHJ;AAFA;EAQQ,eAAA;EACA,aAAA;AAHR;AAKQ;EACI,eAAA;EACA,eAAA;EACA,WAAA;EACA,kBAAA;AAHZ;AAZA;EAoBQ,kBAAA;EACA,UAAA;EACA,YAAA;EACA,WAAA;EAEA,YAAA;EACA,aAAA;EAEA,iBAAA;AAPR;AASQ;EACI,cAAA;AAPZ;AAxBA;EAmCY,YAAA;EACA,eAAA;AARZ;AA5BA;EAwCY,YAAA;EACA,eAAA;AATZ;AAhCA;EA6CY,iBAAA;AAVZ",sourcesContent:['@import "Common.less";\n\n#navigationControls {\n    display: flex;\n    align-items: center;\n\n    // Disallow any text selection in this DOM tree.\n    user-select: none;\n\n    .button-control {\n        font-size: @default-button-font-size;\n        padding: (@total-button-height - @default-button-font-size) / 2;\n\n        &.playback-rate {\n            font-size: 15px;\n            padding: 15px 0;\n            width: 48px;\n            text-align: center;\n        }\n    }\n\n    .playback-rate-menu {\n        position: absolute;\n        right: 8px;\n        bottom: @total-button-height;\n        width: 80px;\n\n        padding: 4px;\n        display: none;\n\n        text-align: right;\n\n        &.visible {\n            display: block;\n        }\n\n        .playback-rate-header {\n            padding: 2px;\n            font-size: 12px;\n        }\n\n        .playback-rate-item {\n            padding: 2px;\n            font-size: 15px;\n        }\n\n        .selected {\n            font-weight: bold;\n        }\n    }\n}\n'],sourceRoot:""}]),t.a=a},function(e,t,n){"use strict";var i=n(7),o=n.n(i),r=n(8),a=n.n(r)()(o.a);a.push([e.i,'#playbackControls {\n  display: flex;\n  align-items: center;\n  user-select: none;\n}\n#playbackControls .button-control {\n  font-size: 24px;\n  padding: 12px;\n}\n#playbackControls .button-control.play-pause {\n  font-size: 36px;\n  padding: 6px;\n}\n#playbackControls .button-control.rewind-forward {\n  font-size: 32px;\n  padding: 8px;\n}\n#playbackControls .button-control.rewind-forward.disabled {\n  opacity: 0.3;\n}\n#playbackControls .volume-control {\n  display: flex;\n  align-items: center;\n}\n#playbackControls .volume-bar {\n  margin: 6px;\n  width: 100px;\n  display: none;\n}\n#playbackControls .volume-bar.visible {\n  display: block;\n}\n#playbackControls .time-display {\n  padding: 6px;\n  display: none;\n}\n#playbackControls .time-display.visible {\n  display: block;\n}\n#playbackControls .time-display .elapsed {\n  font-size: 22px;\n}\n#playbackControls .time-display .duration,\n#playbackControls .time-display .remaining {\n  display: inline;\n  font-size: 14px;\n}\n#playbackControls .time-display .duration:before,\n#playbackControls .time-display .remaining:before {\n  content: " / ";\n}\n#playbackControls .live-indicator {\n  display: none;\n}\n#playbackControls .live-indicator.visible {\n  display: block;\n}\n#playbackControls .live-indicator .button-control {\n  display: flex;\n  align-items: center;\n}\n#playbackControls .live-indicator .icon {\n  line-height: 0;\n  font-size: 30px;\n  padding-bottom: 4px;\n  padding-right: 4px;\n  color: #787878;\n}\n#playbackControls .live-indicator .label {\n  line-height: 0;\n  font-size: 16px;\n  font-weight: 600;\n}\n#playbackControls .live-indicator.is-not-live .button-control:hover {\n  background-color: rgba(255, 255, 255, 0.16);\n  border-radius: 3px;\n}\n#playbackControls .live-indicator.is-live .icon {\n  color: red;\n}\n',"",{version:3,sources:["webpack://./lib/Controls/TimelinePlaybackControls.less"],names:[],mappings:"AAEA;EACI,aAAA;EACA,mBAAA;EAGA,iBAAA;AAHJ;AAFA;EAQQ,eAAA;EACA,aAAA;AAHR;AAKQ;EAGI,eAAA;EACA,YAAA;AALZ;AAQQ;EAGI,eAAA;EACA,YAAA;AARZ;AAUY;EACI,YAAA;AARhB;AAjBA;EA+BQ,aAAA;EACA,mBAAA;AAXR;AArBA;EAoCQ,WAAA;EACA,YAAA;EACA,aAAA;AAZR;AAcQ;EACI,cAAA;AAZZ;AA7BA;EA8CQ,YAAA;EACA,aAAA;AAdR;AAgBQ;EACI,cAAA;AAdZ;AApCA;EAsDY,eAAA;AAfZ;AAvCA;;EA+DY,eAAA;EACA,eAAA;AApBZ;AAeY;;EACI,cAAA;AAZhB;AAhDA;EAqEQ,aAAA;AAlBR;AAoBQ;EACI,cAAA;AAlBZ;AAtDA;EA4EY,aAAA;EACA,mBAAA;AAnBZ;AA1DA;EAiFY,cAAA;EACA,eAAA;EACA,mBAAA;EACA,kBAAA;EAEA,cAAA;AArBZ;AAjEA;EA0FY,cAAA;EACA,eAAA;EACA,gBAAA;AAtBZ;AAyBQ;EAEQ,2CAAA;EACA,kBAAA;AAxBhB;AA4BQ;EAEQ,UAAA;AA3BhB",sourcesContent:['@import "Common.less";\n\n#playbackControls {\n    display: flex;\n    align-items: center;\n\n    // Disallow any text selection in this DOM tree.\n    user-select: none;\n\n    .button-control {\n        font-size: @default-button-font-size;\n        padding: ((@total-button-height - @default-button-font-size) / 2);\n\n        &.play-pause {\n            @font-size: 36px;\n\n            font-size: @font-size;\n            padding: ((@total-button-height - @font-size) / 2);\n        }\n\n        &.rewind-forward {\n            @font-size: 32px;\n\n            font-size: @font-size;\n            padding: ((@total-button-height - @font-size) / 2);\n\n            &.disabled {\n                opacity: 0.3;\n            }\n        }\n    }\n\n    .volume-control {\n        display: flex;\n        align-items: center;\n    }\n\n    .volume-bar {\n        margin: 6px;\n        width: 100px;\n        display: none;\n\n        &.visible {\n            display: block;\n        }\n    }\n\n    .time-display {\n        padding: 6px;\n        display: none;\n    \n        &.visible {\n            display: block;\n        }\n\n        .elapsed {\n            font-size: 22px;\n        }\n\n        .duration,\n        .remaining {\n            &:before {\n                content: " / ";\n            }\n\n            display: inline;\n            font-size: 14px;\n        }\n    }\n\n    .live-indicator {\n        display: none;\n    \n        &.visible {\n            display: block;\n        }\n\n        .button-control {\n            display: flex;\n            align-items: center;\n        }\n\n        .icon {\n            line-height: 0;\n            font-size: 30px;\n            padding-bottom: 4px;\n            padding-right: 4px;\n\n            color: #787878;\n        }\n\n        .label {\n            line-height: 0;\n            font-size: 16px;\n            font-weight: 600;\n        }\n\n        &.is-not-live{\n            .button-control:hover {\n                background-color: rgba(255, 255, 255, 0.16);\n                border-radius: 3px;\n            }\n        }\n    \n        &.is-live {\n            .icon {\n                color: red;\n            }\n        }\n    }\n}\n'],sourceRoot:""}]),t.a=a},function(e,t,n){"use strict";n.r(t),n.d(t,"AudioDescriptionController",(function(){return c})),n.d(t,"AudioDescriptionPlayer",(function(){return l})),n.d(t,"CaptionPlayer",(function(){return u})),n.d(t,"Constants",(function(){return d})),n.d(t,"DeliveryService",(function(){return A})),n.d(t,"DocumentPlayer",(function(){return P})),n.d(t,"EmbedApiMessagesToFrame",(function(){return g})),n.d(t,"EmbedApiMessagesToParent",(function(){return m})),n.d(t,"EmbedApiParser",(function(){return R})),n.d(t,"HlsjsDebugLogger",(function(){return D})),n.d(t,"isEditor",(function(){return x})),n.d(t,"LTIQuizBlockingMode",(function(){return C})),n.d(t,"EventType",(function(){return S})),n.d(t,"MediaFileType",(function(){return E})),n.d(t,"MediaVRType",(function(){return w})),n.d(t,"PlayerLayoutMode",(function(){return L})),n.d(t,"OptimizationProvider",(function(){return k})),n.d(t,"PlaySpeed",(function(){return B})),n.d(t,"SlidePlayer",(function(){return I})),n.d(t,"StreamDeleteUtils",(function(){return M})),n.d(t,"StreamDeleteCase",(function(){return O})),n.d(t,"ViewerLoggingEvent",(function(){return F})),n.d(t,"ViewerLogging",(function(){return U})),n.d(t,"WatermarkLogo",(function(){return z})),n.d(t,"WebcastVersionService",(function(){return Y})),n.d(t,"canAutoplay",(function(){return Q})),n.d(t,"ensureYouTubeIframeApiIsReady",(function(){return y})),n.d(t,"handleSpanUpdateBlocked",(function(){return K})),n.d(t,"Controllers",(function(){return i})),n.d(t,"Controls",(function(){return o})),n.d(t,"Data",(function(){return r})),n.d(t,"Players",(function(){return a}));var i={};n.r(i),n.d(i,"BackgroundingController",(function(){return te})),n.d(i,"BlockingContentController",(function(){return ne})),n.d(i,"BufferingStatusController",(function(){return Be})),n.d(i,"DurationController",(function(){return Re})),n.d(i,"HlsJsErrorController",(function(){return ce})),n.d(i,"LayoutController",(function(){return He})),n.d(i,"PlaybackLoggerController",(function(){return qe})),n.d(i,"PlayersController",(function(){return ze})),n.d(i,"StreamAvailabilityController",(function(){return ie})),n.d(i,"StreamTimelineController",(function(){return oe})),n.d(i,"SynchronizationController",(function(){return Ye})),n.d(i,"TimelineController",(function(){return Ze}));var o={};n.r(o),n.d(o,"BufferingIndicator",(function(){return Ne})),n.d(o,"Icons",(function(){return We})),n.d(o,"PRESET_PLAYBACK_RATES",(function(){return kt})),n.d(o,"TimelineControls",(function(){return Tt})),n.d(o,"TimelineHotkeys",(function(){return tt})),n.d(o,"TimelineLayout",(function(){return ot})),n.d(o,"TimelineMobilePlaybackControls",(function(){return lt})),n.d(o,"TimelineNavigationControls",(function(){return ft})),n.d(o,"TimelinePlaybackControls",(function(){return bt})),n.d(o,"TimelineSeekBar",(function(){return Et}));var r={};n.r(r),n.d(r,"getHlsConfigQueryParams",(function(){return de})),n.d(r,"getHlsConfig",(function(){return pe})),n.d(r,"StreamContentType",(function(){return Ve})),n.d(r,"ViewerPlayState",(function(){return Le})),n.d(r,"ViewerWatermarkPositionOptions",(function(){return q}));var a={};n.r(a),n.d(a,"BrowserPrimitivePlayer",(function(){return ae})),n.d(a,"EmbedStreamPlayer",(function(){return je})),n.d(a,"FpPrimitivePlayer",(function(){return be})),n.d(a,"HlsJsPrimitivePlayer",(function(){return ge})),n.d(a,"KollectivePrimitivePlayer",(function(){return Ce})),n.d(a,"PrimitivePlayerFactory",(function(){return Ee})),n.d(a,"SingleStreamPlayer",(function(){return ke}));var s=n(0),l=function(){function e(){this.enabled=!1,this.previousTimelinePosition=0,this.playedEvents=[],this.eventCanceled=!1,this.volume=0,e.isSpeechSynthesisSupported()&&(this.eventTarget=new EventTarget)}return e.isSpeechSynthesisSupported=function(){var e=!0;try{new EventTarget}catch(t){e=!1}return!!window.speechSynthesis&&e},e.getCodeFromContentLanguage=function(e){return s.ContentLanguageCode[s.ContentLanguage[e]]},e.filterToSupportedLanguages=function(t){var n=e.isSpeechSynthesisSupported()?window.speechSynthesis.getVoices().map((function(e){return e.lang})):[];return(t||[]).filter((function(t){return-1!==n.indexOf(e.getCodeFromContentLanguage(t))}))},e.prototype.setEnabled=function(t){t||this.cancelEvent(),this.enabled=t&&e.isSpeechSynthesisSupported()},e.prototype.addEventListener=function(e,t){var n;null===(n=this.eventTarget)||void 0===n||n.addEventListener(e,t)},e.prototype.updateAudioDescriptions=function(e,t){this.audioDescriptions!==e&&(this.audioDescriptions=e,this.seek(t))},e.prototype.seek=function(e){this.cancelEvent(),this.playedEvents.length=0,this.previousTimelinePosition=e},e.prototype.resume=function(e){this.cancelEvent(),this.synchronizeTimelinePosition(e)},e.prototype.setVolume=function(e){this.volume=e},e.prototype.synchronizeTimelinePosition=function(t){var n,i,o,r=this,a=null===(n=this.audioDescriptions)||void 0===n?void 0:n.find((function(e){return-1===r.playedEvents.indexOf(e)&&e.time>=r.previousTimelinePosition&&e.time<=t}));if(this.enabled&&this.volume>0&&a){var l=new SpeechSynthesisUtterance(a.text);l.lang=e.getCodeFromContentLanguage(null!==(i=a.language)&&void 0!==i?i:s.ContentLanguage.English_USA),l.volume=this.volume,l.addEventListener("end",(function(e){r.eventCanceled||(r.endEventTimeout=window.setTimeout((function(){var e;null===(e=r.eventTarget)||void 0===e||e.dispatchEvent(new Event("audioDescriptionEnd"))}),1e3))})),this.playedEvents.push(a),this.eventCanceled=!1,null===(o=this.eventTarget)||void 0===o||o.dispatchEvent(new Event("audioDescriptionStart")),window.speechSynthesis.speak(l)}this.previousTimelinePosition=t},e.prototype.cancelEvent=function(){var e;this.eventCanceled=!0,null===(e=window.speechSynthesis)||void 0===e||e.cancel(),this.endEventTimeout&&window.clearTimeout(this.endEventTimeout)},e}(),c=function(){function e(e){this.audioDescriptionPlayer=new l,this.previousPosition=0,this.audioDescriptionPlayer.addEventListener("audioDescriptionStart",(function(){return e(!0)})),this.audioDescriptionPlayer.addEventListener("audioDescriptionEnd",(function(){return e(!1)}))}return e.prototype.updateAudioDescriptions=function(e,t){this.audioDescriptionPlayer.updateAudioDescriptions(e,t)},e.prototype.updateState=function(e){this.audioDescriptionPlayer.setEnabled(e.audioDescriptionActivated),e.timelinePosition>this.previousPosition&&this.audioDescriptionPlayer.synchronizeTimelinePosition(e.timelinePosition||0),this.audioDescriptionPlayer.setVolume(e.muted?0:e.volume)},e.prototype.seek=function(e){this.previousPosition=e,this.audioDescriptionPlayer.seek(e)},e.prototype.resume=function(e){this.audioDescriptionPlayer.resume(e)},e}(),u=function(){function e(){this.container=document.createElement("div"),this.container.classList.add("caption-player-container")}return e.prototype.attachToDOM=function(e){e.prepend(this.container)},e.prototype.detachFromDOM=function(){this.container.parentNode&&this.container.parentNode.removeChild(this.container)},e.prototype.updateCaptions=function(e,t){this.captions=e,this.setTimelinePosition(t)},e.prototype.setTimelinePosition=function(e){if(this.captions){var t=this.captions.filter((function(t){return t.time<=e&&(!t.endTime||t.endTime>e)})),n=t.length>0?t[t.length-1]:void 0,i=((null==n?void 0:n.text)||"").split(/\r?\n/g).filter((function(e){return""!==e}));this.container.innerHTML="";for(var o=0,r=i;o<r.length;o++){var a=r[o],s=document.createElement("p");s.textContent=a;var l=document.createElement("br");this.container.appendChild(s),this.container.appendChild(l)}}},e}(),d={SecondarySyncTargetSeconds:.4,UrlEventDuration:.5,YouTubeEmbedBaseUrl:"www.youtube.com/embed/",FirefoxMaxBufferHole:.8,DefaultMaxMaxBufferLength:300},p=n(9),A=function(){function e(e){this.configuration=e}return e.prototype.ajaxCall=function(e,t,n,i){t.responseType="json";var o=this.addHeaders,r=this.configuration;s.TokenAuth.getStoredAuthToken().then((function(a){p.ajax({url:r.uriScheme+"://"+r.webServerFQDN+r.appRoot+"/Pages/Viewer/"+e,type:"POST",data:t,dataType:"json",success:n,error:i,xhrFields:{withCredentials:!0},beforeSend:function(e){return o(e,r,a)}})}))},e.prototype.ajaxCallOverrideFQDN=function(e,t,n,i,o){n.responseType="json";var r=this.addHeaders,a=this.configuration;s.TokenAuth.getStoredAuthToken().then((function(s){p.ajax({url:a.uriScheme+"://"+e+a.appRoot+"/Pages/Viewer/"+t,type:"POST",data:n,dataType:"json",success:i,error:o,xhrFields:{withCredentials:!0},beforeSend:function(e){return r(e,a,s)}})}))},e.prototype.addHeaders=function(e,t,n){var i=s.CookieHelpers.getCookie(t.csrfTokenCookieName);i&&e.setRequestHeader(t.csrfTokenHeaderName,i),n&&e.setRequestHeader("Authorization","Bearer "+n)},e.prototype.getDelivery=function(e,t,n,i,o,r){var a="DeliveryInfo.aspx";i.uniqueViewerIdParam&&i.uniqueViewerIdParam.length>0&&(a+="?uhsaWebcastViewerId="+i.uniqueViewerIdParam),i.overrideFQDN?this.ajaxCallOverrideFQDN(i.overrideFQDN,a,{deliveryId:e,tid:t,invocationId:n||"",isLiveNotes:!!i.isLiveNotes,refreshAuthCookie:!!i.refreshAuthCookie,isActiveBroadcast:!!i.isActiveBroadcast,isEditing:!!i.isEditing,isKollectiveAgentInstalled:!!i.isKollectiveAgentInstalled,isEmbed:!!i.isEmbed},(function(e){e.ErrorCode?r(e):o(e)}),r):this.ajaxCall(a,{deliveryId:e,tid:t,invocationId:n||"",isLiveNotes:!!i.isLiveNotes,refreshAuthCookie:!!i.refreshAuthCookie,isActiveBroadcast:!!i.isActiveBroadcast,isEditing:!!i.isEditing,isKollectiveAgentInstalled:!!i.isKollectiveAgentInstalled,isEmbed:!!i.isEmbed},(function(e){e.ErrorCode?r(e):o(e)}),r)},e.prototype.getCaptions=function(e,t,n,i,o){this.ajaxCall("DeliveryInfo.aspx",{deliveryId:e,tid:t,getCaptions:!0,language:n},(function(e){e.ErrorCode?o():i(e)}),o)},e.prototype.getAudioDescriptions=function(e,t,n,i,o){this.ajaxCall("DeliveryInfo.aspx",{deliveryId:e,tid:t,getAudioDescriptions:!0,language:n},(function(e){e.ErrorCode?o():i(e)}),o)},e.prototype.rateDelivery=function(e,t,n,i){this.ajaxCall("RateDelivery.aspx",{deliveryID:e,rating:t},(function(e){e.ErrorCode?i():n()}),i)},e.prototype.refreshAuthCookie=function(){this.ajaxCall("RefreshAuthCookie.aspx",{},p.noop,p.noop)},e.prototype.createEvent=function(e,t,n,i,o,r,a,s,l){this.ajaxCall("Notes/Note_Create.aspx",{deliveryId:e,type:t,data:n,time:i,channelName:r||void 0,deliveryRelative:!!o||void 0,createdDuringWebcast:!!a||void 0},(function(e){e.ReturnCode?s(e):l()}),l)},e.prototype.editEvent=function(e,t,n,i,o,r){this.ajaxCall("Notes/Note_Update.aspx",{sessionid:e,type:t,eventid:n,data:i},(function(e){e.ErrorMessage?r():o()}),r)},e.prototype.deleteEvent=function(e,t,n,i,o){this.ajaxCall("Notes/Note_Delete.aspx",{sessionid:e,type:t,eventid:n},(function(e){e.ErrorCode?o():i()}),o)},e.prototype.toggleEventPrivacy=function(e,t,n,i){this.ajaxCall("Notes/TogglePublic.aspx",{id:e,public:!!t||void 0},(function(e){e.Public===t?n(e):i()}),i)},e.prototype.search=function(e,t,n,i,o,r,a,s,l){this.ajaxCall("Search/Results.aspx",{id:e,type:t,query:n,notesUser:i,channelName:o,tid:r,refreshAuthCookie:a,deliveryRelative:!0},(function(e){e.Error?l():s(e.Events)}),l)},e}(),h=!1,f=!1;function y(e){if(f)e();else if(h)var t=window.setInterval((function(){f&&(window.clearInterval(t),e())}),100);else{h=!0,window.onYouTubeIframeAPIReady=function(){f=!0,e()};var n=document.createElement("script");n.src="https://www.youtube.com/iframe_api",document.head.appendChild(n)}}var g,m,v="is-loading",b="&hasid=true",P=function(){function e(e,t,n){var i=this;this.content=e,this.focusService=t,this.onEnded=n,this.dismissed=!1,this.playerContainer=document.createElement("div"),this.playerContainer.classList.add("document-player-container");var o=document.createElement("div");o.classList.add("action-container"),this.playerContainer.appendChild(o);var r=document.createElement("div");r.classList.add("action-button"),r.textContent="Close",r.addEventListener("click",(function(){return n(i)})),o.appendChild(r);var a=document.createElement("div");a.classList.add("content-container"),this.playerContainer.appendChild(a),this.iframe=document.createElement("iframe"),this.iframe.id="document-frame-"+e.id,this.iframe.allow="autoplay",a.appendChild(this.iframe),this.container=document.createElement("div"),this.container.classList.add("document-player-focus-trap"),this.createFocusBackstop(this.container),this.container.appendChild(this.playerContainer),this.createFocusBackstop(this.container),this.id=e.id}return e.prototype.createFocusBackstop=function(e){var t=document.createElement("div");return t.style.position="absolute",t.style.top="0px",t.tabIndex=0,e.appendChild(t),t},e.prototype.attachToDOM=function(e){this.container.classList.add(v),(!this.content.isQuiz||this.content.url.indexOf(b)>-1)&&(this.container.classList.remove(v),this.iframe.src=this.content.url),this.attachYouTubeHandlers(),e.prepend(this.container),this.iframe.focus(),this.focusService.trapFocus(this.playerContainer)},e.prototype.detachFromDOM=function(){this.focusService.releaseFocus(this.playerContainer),this.container.classList.remove(v),this.iframe.src="",this.container.parentNode&&this.container.parentNode.removeChild(this.container)},e.prototype.updateInvocationContext=function(e,t){this.content.isQuiz&&(this.content.url=this.content.url.replace("{0}",e).replace("{1}",t)+b,this.container.classList.contains(v)&&(this.iframe.src=this.content.url,this.container.classList.remove(v)))},e.prototype.dismiss=function(){this.dismissed=!0},e.prototype.reset=function(){this.dismissed=!1},Object.defineProperty(e.prototype,"timelinePosition",{get:function(){return this.content.relativeStartTime},enumerable:!1,configurable:!0}),e.prototype.availableAt=function(e){return e>=this.content.relativeStartTime&&e<=this.content.relativeStartTime+d.UrlEventDuration&&!this.dismissed},Object.defineProperty(e.prototype,"blockingPosition",{get:function(){return this.content.isSessionPlaybackBlocking?this.content.relativeStartTime:void 0},enumerable:!1,configurable:!0}),e.prototype.attachYouTubeHandlers=function(){var e=this;-1!==this.content.url.indexOf(d.YouTubeEmbedBaseUrl)&&y((function(){new YT.Player(e.iframe.id,{events:{onStateChange:function(t){0===t.data&&e.onEnded(e)}}})}))},e}();!function(e){e.Play="iframePlay",e.Pause="iframePause",e.Mute="iframeMute",e.Unmute="iframeUnmute",e.Seek="iframeSeek",e.Speed="iframeSpeed",e.Volume="iframeVolume",e.Load="iframeLoad",e.Stop="iframeStop",e.CaptionsOff="iframeCaptionsOff",e.CaptionsOn="iframeCaptionsOn"}(g||(g={})),function(e){e.State="iframeState",e.Error="iframeError",e.StateUpdate="iframeStateUpdate",e.SpeedUpdate="iframeSpeedUpdate",e.IframeReady="embedIframeReady"}(m||(m={}));var C,S,E,w,L,k,B,T="PanoptoEmbed",R=function(){function e(e,t,n){var i=this;this.onCommand=e,this.hostName=t,this.embedApiId=n,window.addEventListener("message",(function(e){try{var t=JSON.parse(e.data);if(t.source!==T||t.id!==i.embedApiId)return;var n={msg:t.msg,floatData:NaN,intData:NaN},o=typeof t.data;"string"===o?n.floatData=Number(t.data):"number"===o&&(n.floatData=t.data),n.intData=Math.floor(n.floatData),i.onCommand(n)}catch(e){}}))}return e.prototype.sendPostMessage=function(e,t){var n=null==t?"":t,i={msg:e,source:T,id:this.embedApiId,data:n};window.parent.postMessage(JSON.stringify(i),this.hostName||"*")},e}(),D=function(){function e(){}return e.prototype.formatHlsjsMessage=function(e){return"[hls.js] > "+e},e.prototype.debug=function(e){arguments.length>0&&s.Logging.Logger.debug(this.formatHlsjsMessage(e))},e.prototype.log=function(e){arguments.length>0&&s.Logging.Logger.verbose(this.formatHlsjsMessage(e))},e.prototype.info=function(e){arguments.length>0&&s.Logging.Logger.info(this.formatHlsjsMessage(e))},e.prototype.warn=function(e){arguments.length>0&&s.Logging.Logger.warning(this.formatHlsjsMessage(e))},e.prototype.error=function(e){arguments.length>0&&s.Logging.Logger.error(this.formatHlsjsMessage(e))},e}();function x(){return"true"===s.Helpers.StringHelpers.parseQueryString(window.location.search).edit}!function(e){e[e.None=0]="None",e[e.WarnUserIfNotReportable=1]="WarnUserIfNotReportable",e[e.BlockViewingIfNotReportable=2]="BlockViewingIfNotReportable"}(C||(C={})),function(e){e.None="",e.Slide="ppt",e.Transcript="transcript",e.Note="notes",e.Bookmark="bookmarks",e.Comment="comments",e.AudioDescription="audio-descriptions"}(S||(S={})),function(e){e[e.Unknown=0]="Unknown",e[e.Ism=1]="Ism",e[e.Mp3=2]="Mp3",e[e.Mp4=3]="Mp4",e[e.Mov=4]="Mov",e[e.Wmv=5]="Wmv",e[e.Avi=6]="Avi",e[e.Manifest=7]="Manifest",e[e.History=8]="History",e[e.Wav=9]="Wav",e[e.PackedRaw=10]="PackedRaw",e[e.Hls=11]="Hls",e[e.RawSample=12]="RawSample",e[e.M4a=13]="M4a",e[e.M4v=14]="M4v",e[e.Webm=15]="Webm",e[e.Mkv=16]="Mkv"}(E||(E={})),function(e){e[e.None=0]="None",e[e.Full=1]="Full",e[e.Half=2]="Half"}(w||(w={})),function(e){e[e.Normal=3]="Normal",e[e.Swapped=4]="Swapped",e[e.PrimaryOnly=1]="PrimaryOnly",e[e.SecondaryOnly=2]="SecondaryOnly",e[e.SideBySide=5]="SideBySide"}(L||(L={})),function(e){e.NONE="",e.HIVE="Hive",e.KOLLECTIVE="Kollective"}(k||(k={})),function(e){e[e.Slowest=.5]="Slowest",e[e.Slow=.75]="Slow",e[e.Normal=1]="Normal",e[e.Fast=1.25]="Fast",e[e.Faster=1.5]="Faster",e[e.FasterYet=1.75]="FasterYet",e[e.Fastest=2]="Fastest"}(B||(B={}));var O,I=function(){function e(e,t){this.appRoot=e,this.slideDeck=t,this.slideImages=[],this.container=document.createElement("div"),this.container.classList.add("slide-player-container"),this.bufferAllSlides()}return Object.defineProperty(e.prototype,"id",{get:function(){return this.slideDeck.id},enumerable:!1,configurable:!0}),e.prototype.availableAt=function(e){return!0},e.prototype.bufferAllSlides=function(){for(var e=0,t=this.slideDeck.slides;e<t.length;e++){var n=t[e],i=document.createElement("img");i.src=[this.appRoot,"/Pages/Viewer/Image.aspx","?",s.Helpers.StringHelpers.serializeObjectToQueryString(n.queryParams)].join(""),this.slideImages[n.time]=i}},e.prototype.attachToDOM=function(e){e.prepend(this.container)},e.prototype.detachFromDOM=function(){this.container.parentNode&&this.container.parentNode.removeChild(this.container)},e.prototype.setTimelinePosition=function(e){var t=this.slideDeck.slides.filter((function(t){return t.time<=e})),n=t.length>0?t[t.length-1]:this.slideDeck.slides[0];if(n!==this.currentSlide){for(;this.container.firstChild;)this.container.removeChild(this.container.firstChild);this.container.appendChild(this.slideImages[n.time]),this.currentSlide=n}},e}(),_=n(5),M=function(){function e(){}return e.prototype.computeActiveSegments=function(e,t,n){for(var i=[{start:e,end:e+t}],o=0,r=n;o<r.length;o++){for(var a=r[o],l=-1,c=e+a.start,u=e+a.start+a.duration,d=0;d<i.length;d++)if((c>=i[d].start||s.Helpers.timesAreApproxEqual(c,i[d].start))&&(u<=i[d].end||s.Helpers.timesAreApproxEqual(u,i[d].end))){l=d;break}if(-1===l)return[];i.push({start:i[l].start,end:c},{start:u,end:i[l].end}),i.splice(l,1),i=i.filter((function(e){return e.end>e.start})).sort((function(e,t){return e.start-t.start}))}return i},e.prototype.computeNewStreamCuts=function(e,t,n,i){for(var o=[],r=0;r<n.length;r++){var a=n[r];if(!(a.end-a.start<i))for(var s=0,l=e;s<l.length;s++){for(var c=l[s],u=0;u<t.length;u++){var d=t[u];if(!(d.targetId!==c.id||d.duration<=i)){var p=Math.max(a.start,c.absoluteStart+d.start),A=Math.min(a.end,c.absoluteStart+d.start+d.duration);if(!(p>=a.end||A<=a.start))if(a.start<=c.absoluteStart+d.start&&c.absoluteStart+d.start+d.duration<a.end)d.duration=0,n.splice(r+1,0,{start:A,end:a.end}),a.end=p;else if(c.absoluteStart+d.start<p&&c.absoluteStart+d.start+d.duration<=a.end)d.duration-=A-p,a.start=A;else if(a.start<=c.absoluteStart+d.start&&A<c.absoluteStart+d.start+d.duration)d.start+=A-p,d.duration-=A-p,a.end=p;else{var h=d.copy();h.id=_.uniqueId("cut"),h.start=A-c.absoluteStart,h.duration=d.duration-(A-(c.absoluteStart+d.start)),t.splice(u+1,0,h),d.duration=d.duration-h.duration-(A-p),a.start=a.end}}}if(a.end-a.start<i)break}}return t.forEach((function(e){e.duration<=i&&o.push(e)})),o},e.prototype.computeNewSessionCuts=function(e,t,n,i,o,r){for(var a=[],s=[],l=0,c=e;l<c.length;l++){var u=c[l],d=(u.start-i)/r,p=(u.start+u.duration-i)/r;d>=n||p<=t||d<=t&&p>=n?a.push(u):d<t?s.push({oldStart:u.start-i,newStart:o,newEnd:u.start+u.duration-t*r-i+o,newTargetId:u.targetId,newTargetType:u.targetType}):p>n?s.push({oldStart:u.start-i,newStart:u.start-i-t*r+o,newEnd:(n-t)*r+o,newTargetId:u.targetId,newTargetType:u.targetType}):s.push({oldStart:u.start-i,newStart:u.start-i-t*r+o,newEnd:u.start+u.duration-t*r-i+o,newTargetId:u.targetId,newTargetType:u.targetType})}return{resizeHandlers:s,cutsToRemove:a}},e}();!function(e){e[e.OnlyPrimary=0]="OnlyPrimary",e[e.ActivePrimary=1]="ActivePrimary",e[e.InactivePrimary=2]="InactivePrimary",e[e.Secondary=3]="Secondary",e[e.Unexpected=4]="Unexpected"}(O||(O={}));var N,F,j=(N=function(e,t){return(N=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}N(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),H=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{l(i.next(e))}catch(e){r(e)}}function s(e){try{l(i.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((i=i.apply(e,t||[])).next())}))},V=function(e,t){var n,i,o,r,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(r){return function(s){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(o=2&r[0]?i.return:r[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,i=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==r[0]&&2!==r[0])){a=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){a.label=r[1];break}if(6===r[0]&&a.label<o[1]){a.label=o[1],o=r;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(r);break}o[2]&&a.ops.pop(),a.trys.pop();continue}r=t.call(e,a)}catch(e){r=[6,e],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,s])}}};!function(e){e[e.MANUAL_UPLOAD=2001]="MANUAL_UPLOAD",e[e.SPAN_UPLOAD_BLOCKED=2002]="SPAN_UPLOAD_BLOCKED"}(F||(F={}));var q,U=function(e){function t(t){return e.call(this,t,"ViewerEmbed",2048)||this}return j(t,e),t.prototype.retrieveLogs=function(){return this.circularTransport.retrieveLogs()},t.prototype.uploadLogs=function(t){return H(this,void 0,void 0,(function(){return V(this,(function(n){switch(n.label){case 0:return[4,e.prototype.uploadLogs.call(this,t)];case 1:return[2,n.sent()]}}))}))},t}(s.ClientLogging);!function(e){e[e.Off=0]="Off",e[e.BottomLeft=1]="BottomLeft",e[e.BottomRight=2]="BottomRight",e[e.TopLeft=3]="TopLeft",e[e.TopRight=4]="TopRight"}(q||(q={}));var z=function(){function e(t,n){var i=n===q.BottomLeft?"bottom-left":n===q.BottomRight?"bottom-right":n===q.TopLeft?"top-left":n===q.TopRight?"top-right":"";this.brandElement=$(e.template({logoUrl:t,positionClass:i}))}return e.prototype.setOffset=function(e){$(this.brandElement).find(".logo-offset").height(e)},e.prototype.getBrandElem=function(){return this.brandElement},e.template=_.template('\n        <div class="logo-container-while-playing <@= positionClass @>">\n            <div class="logo-offset"></div>\n            <img class="logo-while-playing" src="<@= logoUrl @>" />\n            <div class="logo-offset"></div>\n        </div>'),e}(),Y=function(){function e(e){this.configuration=e}return e.prototype.ajaxCall=function(e,t,n){var i=this;p.ajax({url:this.configuration.uriScheme+"://"+this.configuration.webServerFQDN+this.configuration.appRoot+"/api/sessions/"+e+"/webcastVersion/",type:"GET",data:{},dataType:"json",success:t,error:n,xhrFields:{withCredentials:!0},beforeSend:function(e){return i.addCsrfHeader(e)}})},e.prototype.addCsrfHeader=function(e){var t=s.CookieHelpers.getCookie(this.configuration.csrfTokenCookieName);t&&e.setRequestHeader(this.configuration.csrfTokenHeaderName,t)},e.prototype.getWebcastVersion=function(e,t,n){this.ajaxCall(e,t,n)},e}();function G(e,t){var n=document.createElement("video");return n.classList.add("auto-play-detector"),document.body.prepend(n),n.src="data:video/mp4;base64,AAAAHGZ0eXBpc29tAAACAGlzb21pc28ybXA0MQAAAAhmcmVlAAAC721kYXQhEAUgpBv/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA3pwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcCEQBSCkG//AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADengAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcAAAAsJtb292AAAAbG12aGQAAAAAAAAAAAAAAAAAAAPoAAAALwABAAABAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADAAAB7HRyYWsAAABcdGtoZAAAAAMAAAAAAAAAAAAAAAIAAAAAAAAALwAAAAAAAAAAAAAAAQEAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAACRlZHRzAAAAHGVsc3QAAAAAAAAAAQAAAC8AAAAAAAEAAAAAAWRtZGlhAAAAIG1kaGQAAAAAAAAAAAAAAAAAAKxEAAAIAFXEAAAAAAAtaGRscgAAAAAAAAAAc291bgAAAAAAAAAAAAAAAFNvdW5kSGFuZGxlcgAAAAEPbWluZgAAABBzbWhkAAAAAAAAAAAAAAAkZGluZgAAABxkcmVmAAAAAAAAAAEAAAAMdXJsIAAAAAEAAADTc3RibAAAAGdzdHNkAAAAAAAAAAEAAABXbXA0YQAAAAAAAAABAAAAAAAAAAAAAgAQAAAAAKxEAAAAAAAzZXNkcwAAAAADgICAIgACAASAgIAUQBUAAAAAAfQAAAHz+QWAgIACEhAGgICAAQIAAAAYc3R0cwAAAAAAAAABAAAAAgAABAAAAAAcc3RzYwAAAAAAAAABAAAAAQAAAAIAAAABAAAAHHN0c3oAAAAAAAAAAAAAAAIAAAFzAAABdAAAABRzdGNvAAAAAAAAAAEAAAAsAAAAYnVkdGEAAABabWV0YQAAAAAAAAAhaGRscgAAAAAAAAAAbWRpcmFwcGwAAAAAAAAAAAAAAAAtaWxzdAAAACWpdG9vAAAAHWRhdGEAAAABAAAAAExhdmY1Ni40MC4xMDE=",n.muted=e,n.playsInline=t,n.play().then((function(){return n.src="",n.load(),n.remove(),!0})).catch((function(){return!1}))}function Q(e){var t=void 0===e?{}:e,n=t.muted,i=void 0!==n&&n,o=t.playsInline,r=void 0!==o&&o,a=t.autoPlayRequested,s=void 0===a||a;return window.Promise?s?G(i,r).then((function(e){return e||i?{canAutoplay:e,canAutoplayMuted:e}:G(!0,r).then((function(t){return{canAutoplay:e,canAutoplayMuted:t}}))})):Promise.resolve({canAutoplay:!1,canAutoplayMuted:!1}):{then:function(e){return e({canAutoplay:s,canAutoplayMuted:s})}}}var Z=n(2),W=0;function K(e,t,n,i,o,r,a,l){W++,s.Logging.Logger.warning("handleSpanUpdateBlocked: addStreamRequests request was blocked",W),3===W&&(l(),Z.Dialogs.PanoptoConfirmController.confirm({message:e.Viewer_Dialogs_SpanUpdateBlocked_Message,confirmMessage:e.Viewer_Dialogs_SpanUpdateBlocked_AcceptMessage,cancelMessage:e.Viewer_Dialogs_SpanUpdateBlocked_CancelMessage,brandColor:"#"+t,onClose:function(e){e&&window.open(o,"_blank")}})),i&&n.uploadLogs({"delivery-id":r,"invocation-id":a,"event-id":F.SPAN_UPLOAD_BLOCKED})}function J(e){return(J="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function X(e,t,n){var i=n.value;if("function"!=typeof i)throw new TypeError("@boundMethod decorator can only be applied to methods not: ".concat(J(i)));var o=!1;return{configurable:!0,get:function(){if(o||this===e.prototype||this.hasOwnProperty(t)||"function"!=typeof i)return i;var n=i.bind(this);return o=!0,Object.defineProperty(this,t,{configurable:!0,get:function(){return n},set:function(e){i=e,delete this[t]}}),o=!1,n},set:function(e){i=e}}}var ee=function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},te=function(){function e(e){this.onSyncPauseChange=e,document.addEventListener("visibilitychange",this.handleDocumentVisibilityChange)}return e.prototype.handleDocumentVisibilityChange=function(){var e="visible"===document.visibilityState;s.Logging.Logger.info("BackgroundingController.handleDocumentVisibilityChange:is document visible: "+e),this.onSyncPauseChange(!e)},ee([X],e.prototype,"handleDocumentVisibilityChange",null),e}(),ne=function(){function e(){this.documentPlayers=[]}return e.prototype.addDocumentPlayer=function(e){this.documentPlayers.push(e)},e.prototype.getBlockingPosition=function(e){return this.documentPlayers.map((function(e){return e.blockingPosition})).filter((function(t){return void 0!==t&&t<=e})).sort((function(e,t){return e-t}))[0]},e}(),ie=function(){function e(e){this.relativeStart=e.relativeStart,this.relativeEnd=e.relativeEnd,this.segments=e.segments,this.duration=e.length}return e.prototype.updateStream=function(e){this.relativeEnd=e.relativeEnd,this.segments=e.segments},e.prototype.updateDurationFromVideoElement=function(e){this.duration=e},e.prototype.availableAt=function(e){return 0===this.segments.length?e>=this.relativeStart&&(0===this.relativeEnd||e<this.relativeStart+this.duration):this.segments.some((function(t){return e>=t.relativeStart&&(t.relativeEnd===1/0||e<t.relativeEnd)}))},e.prototype.nextAvailablePosition=function(e){return this.availableAt(e)?e:e<this.relativeStart?this.relativeStart:void 0},e}(),oe=function(){function e(e){this.relativeStart=e.relativeStart,this.segments=e.segments,this.duration=e.length,this.liveDurationOffset=(e.broadcastSegmentDuration||9)*(e.broadcastSegmentBackoff||3),this.live=0===e.relativeEnd}return e.prototype.updateStream=function(e){this.segments=e.segments,this.live=0===e.relativeEnd},e.prototype.updateDurationFromVideoElement=function(e){this.duration=e},Object.defineProperty(e.prototype,"isLive",{get:function(){return this.live},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"liveTimelinePosition",{get:function(){return this.live&&void 0!==this.liveStreamPosition?this.liveStreamPosition+this.relativeStart:void 0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"liveStreamPosition",{get:function(){return this.live?Math.max(this.duration-this.liveDurationOffset,0):void 0},enumerable:!1,configurable:!0}),e.prototype.convertStreamToTimelinePosition=function(e){if(this.segments.length>0){var t=this.segments.find((function(t){var n=t.streamOffset,i=t.streamOffset+(t.relativeEnd-t.relativeStart);return e>=n&&e<i}));return t?e+t.relativeStart-t.streamOffset:NaN}return e+this.relativeStart},e.prototype.convertTimelineToStreamPosition=function(e){if(this.segments.length>0){var t=this.segments.find((function(t){return e>=t.relativeStart&&(t.relativeEnd===1/0||e<t.relativeEnd)}));return t?e-t.relativeStart+t.streamOffset:NaN}return e-this.relativeStart},e}(),re=function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},ae=function(){function e(e,t,n,i){var o=this;this.id=e,this.container=t,this.video=n,this.useVideoSourceElementForBlobUrl=i,this.loggedVideoEvents=["durationchange","progress","ended","error","loadeddata","loadedmetadata","pause","play","playing","seeked","seeking","stalled","waiting"],this.lastMaxBufferEnd=0,this.loggedVideoEvents.forEach((function(e){return o.video.addEventListener(e,o.logVideoEvent)})),this.addEventListener("error",this.handleError)}return e.prototype.handleError=function(e){0===this.streamPosition&&(s.Logging.Logger.info("[<video/>] ["+this.id+"] > Error from brower on startup. Reloading video element."),this.video.load())},e.prototype.logVideoEvent=function(e){s.Logging.Logger.verbose("[<video/>] ["+this.id+"] > "+e.type+" event, currentTime: "+this.video.currentTime)},e.prototype.loadStream=function(e,t){var n=this;if(s.Logging.Logger.info("[BrowserPrimitive] ["+this.id+"] > loading source via <video/> element",e.url),this.useVideoSourceElementForBlobUrl&&0===e.url.indexOf("blob:")){for(;this.video.firstChild;)this.video.removeChild(this.video.firstChild);var i=document.createElement("source");i.type="video/mp4",i.src=e.url,this.video.appendChild(i)}else this.video.src=e.url;Object(s.once)(this.video,"loadedmetadata",(function(){n.video.duration===1/0&&0===e.url.indexOf("blob:")?(s.Logging.Logger.info("[BrowserPrimitive] ["+n.id+"] > Video stream duration is Infinity. Fixing..."),Object(s.once)(n.video,"durationchange",(function(){s.Logging.Logger.info("[BrowserPrimitive] ["+n.id+"] > Video stream duration:",n.video.duration),n.video.currentTime=.001,n.video.currentTime=0,n.signalPlayerReady(),t()})),n.video.currentTime=9007199254740991):n.video.duration===1/0&&e.url.indexOf(".m3u8")>-1?(s.Logging.Logger.info("[BrowserPrimitive] ["+n.id+"] > Live stream duration is Infinity."),Object(s.once)(n.video,"progress",(function(){s.Logging.Logger.info("[BrowserPrimitive] ["+n.id+"] > Video stream duration:",n.duration),n.signalPlayerReady(),t()})),n.video.play().then((function(){return n.video.pause()}))):(s.Logging.Logger.info("[BrowserPrimitive] ["+n.id+"] > Video stream duration:",n.video.duration),n.signalPlayerReady(),t())}))},e.prototype.signalPlayerReady=function(){this.container.classList.add("is-ready")},e.prototype.dispose=function(){},e.prototype.addEventListener=function(e,t){this.video.addEventListener(e,t)},e.prototype.play=function(){var e=this,t=performance.now();s.Logging.Logger.verbose("[BrowserPrimitive] ["+this.id+"] > play() started at "+t),this.lastPlayPromise=this.video.play().then((function(){s.Logging.Logger.verbose("[BrowserPrimitive] ["+e.id+"] > play() resolved from "+t),e.lastPlayPromise=void 0}))},e.prototype.pause=function(){var e=this;if(this.lastPlayPromise){var t=performance.now();s.Logging.Logger.verbose("[BrowserPrimitive] ["+this.id+"] > pause() queued at "+t),this.lastPlayPromise.then((function(){e.video.pause(),s.Logging.Logger.verbose("[BrowserPrimitive] ["+e.id+"] > pause() executed from "+t)}))}else s.Logging.Logger.verbose("[BrowserPrimitive] ["+this.id+"] > pause()"),this.video.pause()},Object.defineProperty(e.prototype,"supportsStartPosition",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"streamPosition",{get:function(){return this.video.currentTime},set:function(e){s.Logging.Logger.info("[BrowserPrimitive] ["+this.id+"] > seeking stream to "+e+" from "+this.video.currentTime),this.video.currentTime=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fullscreen",{get:function(){return s.Helpers.getFullscreenElement()===this.container},set:function(e){this.supportsFullscreen&&s.Helpers.toggleFullscreen(this.container,e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"supportsFullscreen",{get:function(){return s.Helpers.fullscreenEnabled},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"muted",{get:function(){return this.video.muted},set:function(e){s.Logging.Logger.info("[BrowserPrimitive] ["+this.id+"] > muted",e),this.video.muted=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"volume",{get:function(){return this.video.volume},set:function(e){s.Logging.Logger.info("[BrowserPrimitive] ["+this.id+"] > volume",e),this.video.volume=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"duration",{get:function(){if(this.video.duration!==1/0||0===this.video.buffered.length)return this.video.duration;for(var e=this.lastMaxBufferEnd,t=0;t<this.video.buffered.length;t++)e=Math.max(e,this.video.buffered.end(t));return this.lastMaxBufferEnd=e,e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"paused",{get:function(){return this.video.paused},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ended",{get:function(){return this.video.ended},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"playbackRate",{get:function(){return this.video.playbackRate},set:function(e){s.Logging.Logger.info("[BrowserPrimitive] ["+this.id+"] > playbackRate",e),this.video.playbackRate=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"levels",{get:function(){return[]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currentLevel",{get:function(){return-1},set:function(e){},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"optimizationProvider",{get:function(){return k.NONE},enumerable:!1,configurable:!0}),re([X],e.prototype,"handleError",null),re([X],e.prototype,"logVideoEvent",null),e}(),se=n(4),le=function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},ce=function(){function e(e,t,n){this.instanceId=e,this.hlsEngine=t,this.unrecoverableCallback=n,this.hasAudioSwapped=!1,t.on(se.Events.ERROR,this.handleError)}return e.prototype.forceFatalErrorToDebug=function(){this.unrecoverableCallback({fatal:!0,type:se.ErrorTypes.MEDIA_ERROR,details:""})},e.prototype.handleError=function(e,t){var n=this;if(t.fatal)if(s.Logging.Logger.verbose(this.formatLog("Fatal "+t.type+" error caught.")),t.type===se.ErrorTypes.NETWORK_ERROR)if(navigator.onLine)s.Logging.Logger.verbose(this.formatLog("Network is online, reloading now.")),this.hlsEngine.startLoad();else{s.Logging.Logger.verbose(this.formatLog("Network is offline, reloading later."));var i=function(){s.Logging.Logger.verbose(n.formatLog("Network is back online, reloading now.")),window.removeEventListener("online",i),n.hlsEngine.startLoad()};window.addEventListener("online",i)}else if(t.type===se.ErrorTypes.MEDIA_ERROR){var o=Date.now();!this.lastMediaErrorDate||o-this.lastMediaErrorDate>5e3?(s.Logging.Logger.verbose(this.formatLog("First media error, recover.")),this.lastMediaErrorDate=o,this.hlsEngine.recoverMediaError()):this.hasAudioSwapped?this.unrecoverableCallback(t):(s.Logging.Logger.verbose(this.formatLog("Second media error, swap audio and recover.")),this.hasAudioSwapped=!0,this.hlsEngine.swapAudioCodec(),this.hlsEngine.recoverMediaError())}else this.unrecoverableCallback(t)},e.prototype.formatLog=function(e){return"[BaseHlsError] ["+this.instanceId+"] > "+e},le([X],e.prototype,"handleError",null),e}(),ue=function(){return(ue=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function de(e){var t=s.Helpers.StringHelpers.parseQueryString(e,{keepCase:!0}),n={},i=!1;for(var o in t)if(0===o.indexOf("hls.")){var r=o.substr(4),a=t[o].toLowerCase(),l=parseFloat(a);if(isNaN(l))if("true"===a)l=!0;else{if("false"!==a){s.Logging.Logger.error("[HlsConfig] > Unable to parse query param "+o+"="+t[o]);break}l=!1}i=!0,n[r]=l}return i&&s.Logging.Logger.info("Overriding HlsConfig from query params: "+JSON.stringify(n)),n}function pe(e){var t={enableWebVTT:!1};s.Browser.isFirefox&&(t.maxBufferHole=d.FirefoxMaxBufferHole),s.Browser.isSafari||(t.maxMaxBufferLength=d.DefaultMaxMaxBufferLength);var n={};try{n=JSON.parse(Panopto.viewer.hlsJsConfig)}catch(e){s.Logging.Logger.error("[HlsConfig] Error parsing HlsJsConfig setting, ignored.")}return t=ue(ue(ue({},t),n),de(window.location.search.slice(1))),e&&(t.startPosition=e),t}var Ae=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),he=function(){return(he=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},fe=function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a};s.Logging.Logger.info(se?"[HlsJs] version "+se.version:"[HlsJs] not loaded");var ye,ge=function(e){function t(t,n,i,o){var r=e.call(this,t,n,i,!1)||this;return r.hlsEngine=null,r.stream=null,r.startPosition=void 0,r.onRestart=o.onRestart,r.startPosition=o.startPosition,r.hlsConfig=pe(r.startPosition),s.Logging.Logger.info("[HlsJsPrimitive] ["+r.id+"] > hls config: "+JSON.stringify(r.hlsConfig)),r.loadStreamCallback=function(){s.Logging.Logger.error("[HlsJsPrimitive] ["+r.id+"] > loadStreamCallback without providing a callback?")},r}return Ae(t,e),t.hlsJsIsSupported=function(){return se.isSupported()},t.prototype.getHlsConfig=function(){var e=he(he({},this.hlsConfig),{debug:new D});return this.stream?this.stream.isBroadcast&&this.stream.broadcastSegmentBackoff&&3!==this.stream.broadcastSegmentBackoff&&(e.initialLiveManifestSize=this.stream.broadcastSegmentBackoff,e.liveSyncDurationCount=this.stream.broadcastSegmentBackoff):s.Logging.Logger.warning("[HlsJsPrimitive] ["+this.id+"] > Starting Hls without stream info. HlsConfig may be incorrect."),e},t.prototype.startHls=function(e){var t=this,n=this.getHlsConfig();e&&(n.startPosition=e);var i=new se(n);return new ce(this.id,i,this.handleUnrecoverableHlsError),i.on(se.Events.ERROR,(function(e,n){return s.Logging.Logger.error("[HlsJsPrimitive] ["+t.id+"] > ERROR!",e,n)})),i},t.prototype.loadStream=function(e,t){var n=this;this.stream=e,this.loadStreamCallback=t,this.hlsEngine=this.startHls(),this.hlsEngine.once(se.Events.MANIFEST_PARSED,(function(){n.signalPlayerReady()})),Object(s.once)(this.video,"loadedmetadata",(function(){n.loadStreamCallback()})),this.initializeEngine(e)},t.prototype.initializeEngine=function(e){s.Logging.Logger.info("[HlsJsPrimitive] ["+this.id+"] > loading source via Hls",e.url),this.hlsEngine?(this.hlsEngine.attachMedia(this.video),this.hlsEngine.loadSource(e.url)):s.Logging.Logger.error("[HlsJsPrimitive] ["+this.id+"] > expected hls to be initialized",e.url)},t.prototype.dispose=function(){this.hlsEngine?this.hlsEngine.destroy():s.Logging.Logger.error("[HlsJsPrimitive] ["+this.id+"] > expected hls to be initialized")},t.prototype.handleUnrecoverableHlsError=function(e){s.Logging.Logger.error("[HlsJsPrimitive] ["+this.id+"] > hlsError - restarting Hls",e),this.dispose(),this.stream&&(this.loadStream(this.stream,this.loadStreamCallback),this.onRestart())},Object.defineProperty(t.prototype,"supportsStartPosition",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"levels",{get:function(){var e;return(null===(e=this.hlsEngine)||void 0===e?void 0:e.levels)||[]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"currentLevel",{get:function(){var e;return(null===(e=this.hlsEngine)||void 0===e?void 0:e.currentLevel)||-1},set:function(e){s.Logging.Logger.info("[HlsJsPrimitive] ["+this.id+"] > currentLevel",e),this.hlsEngine?this.hlsEngine.currentLevel=e:s.Logging.Logger.error("[HlsJsPrimitive] ["+this.id+"] > expected hls to be initialized")},enumerable:!1,configurable:!0}),fe([X],t.prototype,"handleUnrecoverableHlsError",null),t}(ae),me=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),ve=function(){return(ve=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},be=function(e){function t(t,n,i,o){var r=e.call(this,t,n,i,o)||this;return s.Logging.Logger.info("[FpPrimitive] ["+r.id+"] > Initializing playback with Flowplayer"),r}return me(t,e),t.setFlowplayerKey=function(e){t.flowplayerKey=e},t.prototype.loadStream=function(e,n){this.stream=e;var i=-1!==window.location.search.indexOf("debuglog=true"),o=ve(ve({},this.getHlsConfig()),{listeners:["hlsLevelSwitch","hlsLevelLoaded","hlsMediaAttached","hlsFragLoaded","hlsManifestLoaded"],safari:!0,smoothSwitching:!1,livePositionOffset:0}),r={key:t.flowplayerKey,clip:{sources:[{src:e.url,type:Ee.isHlsPlayableStream(e)?"application/x-mpegurl":"video/mp4"}],live:e.isBroadcast,dvr:e.isBroadcast,vr:e.vrType>w.None},chromecast:!Panopto.features.disableFeaturesRequiringExternalNetworkAccess,vrvideo:{mode:e.vrType===w.Full?"full":e.vrType===w.Half?"half":void 0,renderOnPause:!0},debug:i,hlsjs:o};s.Logging.Logger.info("[FpPrimitive] ["+this.id+"] > configuration:",JSON.stringify(r)),this.fp=flowplayer(this.container,r,n),this.hlsEngine=this.fp.engine.hls,this.hlsEngine&&new ce(this.id,this.hlsEngine,this.handleUnrecoverableHlsError)},t.prototype.signalPlayerReady=function(){},t.prototype.dispose=function(){e.prototype.dispose.call(this)},Object.defineProperty(t.prototype,"supportsStartPosition",{get:function(){return!1},enumerable:!1,configurable:!0}),t.prototype.play=function(){s.Logging.Logger.info("[FpPrimitive] ["+this.id+"] > play()"),this.fp&&this.fp.play()},t.prototype.pause=function(){s.Logging.Logger.info("[FpPrimitive] ["+this.id+"] > pause()"),this.fp&&this.fp.pause()},Object.defineProperty(t.prototype,"supportsFullscreen",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullscreen",{get:function(){return this.fp&&this.fp.isFullscreen},set:function(e){this.fp&&e!==this.fullscreen&&(this.fp.disabled=!1,this.fp.fullscreen())},enumerable:!1,configurable:!0}),t}(ge),Pe=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Ce=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.DEFAULT_ID="00000000-0000-0000-0000-000000000000",t}return Pe(t,e),t.prototype.initializeEngine=function(t){var n,i=this;if(ksdk&&t.optimizationToken&&!s.Browser.isIE){s.Logging.Logger.info("[KollectivePrimitive] ["+this.id+"] > loading source via Hls/Kollective",t.optimizationToken),this.kollective=ksdk.forHLSjs(this.video,this.hlsEngine),this.kollective.addEventListener("KsdkError",(function(e){s.Logging.Logger.warning("[KollectivePrimitive] ["+i.id+"] > Kollective peering failed. "+e.data)})),this.kollective.load({contentToken:t.optimizationToken,userToken:(null===(n=null===Panopto||void 0===Panopto?void 0:Panopto.user)||void 0===n?void 0:n.userId)||this.DEFAULT_ID}).catch((function(e){s.Logging.Logger.warning("[KollectivePrimitive] ["+i.id+"] > Kollective peering failed. "+e)}))}else{var o=ksdk?"Missing optimization token":"ksdk is not initialized";s.Logging.Logger.info("[HlsPrimitive] ["+this.id+"] > "+o+". Falling back to plain Panopto delivery.",t.url),e.prototype.initializeEngine.call(this,t)}},Object.defineProperty(t.prototype,"optimizationProvider",{get:function(){return k.KOLLECTIVE},enumerable:!1,configurable:!0}),t}(ge);!function(e){e[e.NONE=0]="NONE",e[e.KOLLECTIVE=1]="KOLLECTIVE",e[e.HIVE=2]="HIVE"}(ye||(ye={}));var Se,Ee=function(){function e(){}return e.enableKollective=function(){this.optimizationService=ye.KOLLECTIVE},e.enableHive=function(){this.optimizationService=ye.HIVE},e.useFlowplayer=function(){this.alwaysUseFlowplayer=!0},e.trustBrowserNativeHls=function(){this._trustBrowserNativeHls=!0},e.isHlsPlayableStream=function(e){var t=e.mediaFileType;return void 0===t||t===E.Unknown?(s.Logging.Logger.warning("PrimitivePlayerFactory.isHlsPlayableStream: PlayableStream is missing mediaFileType field, fall back to stream URL parsing."),-1!==e.url.indexOf(".m3u8")):t===E.Hls},e.canBrowserPlayHlsNatively=function(e){return!!e.canPlayType("application/vnd.apple.mpegurl")},e.create=function(t,n,i,o){if(t.vrType>w.None)return new be(t.id,n,i,o);if(this.alwaysUseFlowplayer)return new be(t.id,n,i,o);if(e.isHlsPlayableStream(t)){var r=ge.hlsJsIsSupported();if(this.optimizationService!==ye.NONE&&!x()&&r)switch(this.optimizationService){case ye.KOLLECTIVE:return new Ce(t.id,n,i,o);case ye.HIVE:s.Logging.Logger.error("[PrimitivePlayerFactory] Hive not yet implmeneted under SingleStreamPlayer infra")}var a=e.canBrowserPlayHlsNatively(i);if(r)if(s.Browser.isMobileSafari)s.Logging.Logger.info("[PrimitivePlayerFactory] Native HLS: HlsJs is supported but this is mobile Safari.");else{if(!this._trustBrowserNativeHls||!a)return s.Logging.Logger.info("[PrimitivePlayerFactory] Using HlsJs."),new ge(t.id,n,i,o);s.Logging.Logger.info("[PrimitivePlayerFactory] Native HLS: HlsJs is supported but TrustBrowserNativeHls is set.")}else{if(!a)throw new Error("[PrimitivePlayerFactory] No option for HLS support in this browser");s.Logging.Logger.info("[PrimitivePlayerFactory] Native HLS: HlsJs is NOT supported.")}}return new ae(t.id,n,i,s.Browser.isSafari)},e.optimizationService=ye.NONE,e.alwaysUseFlowplayer=!1,e._trustBrowserNativeHls=!1,e}(),we=function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a};!function(e){e[e.INITIALIZING=0]="INITIALIZING",e[e.PAUSED=1]="PAUSED",e[e.PAUSE_WHEN_ABLE=2]="PAUSE_WHEN_ABLE",e[e.PLAY_WHEN_READY=3]="PLAY_WHEN_READY",e[e.STARTING=4]="STARTING",e[e.PLAYING=5]="PLAYING",e[e.ENDED=6]="ENDED"}(Se||(Se={}));var Le,ke=function(){function e(e,t,n,i,o,r){var a=this;void 0===r&&(r=""),this.stream=e,this.video=n,this.debugLabel=r,this.nextSeek=null,this.seekInProgress=null,this._buffering=!0,this._state=Se.INITIALIZING;var l={onRestart:this.handleRestart,startPosition:i};this.disableTextTracks(n),this.primitivePlayer=Ee.create(e,t,n,l),this.debug=-1!==window.location.search.indexOf("debug=true"),this.debugInfo=document.createElement("div"),this.debugInfo.classList.add("single-stream-player-debug-info"),t.appendChild(this.debugInfo),this.id=e.id,this.isAudioOnly=e.isAudioOnly,this.broadcastSegmentDuration=e.broadcastSegmentDuration,s.Logging.Logger.info("[SingleStreamPlayer] Created for stream id "+this.id+' and label "'+this.debugLabel+'"'),this.debugLabel?this.debugLabel=(this.debugLabel+" "+this.id).trim():this.debugLabel=this.id,this.availabilityController=new ie(e),this.timelineController=new oe(e),!this.primitivePlayer.supportsStartPosition&&i&&(this.streamPosition=i),this.primitivePlayer.loadStream(e,(function(){a.timelineController.updateDurationFromVideoElement(a.primitivePlayer.duration),a.handleBufferingStatusChange({type:"loadedmetadata"}),a.attachEventListeners(),a.handleStreamLoaded(),o()}))}return e.prototype.attachEventListeners=function(){this.primitivePlayer.addEventListener("waiting",this.handleBufferingStatusChange),this.primitivePlayer.addEventListener("playing",this.handleBufferingStatusChange),this.primitivePlayer.addEventListener("canplay",this.handleBufferingStatusChange),this.primitivePlayer.addEventListener("canplaythrough",this.handleBufferingStatusChange),this.primitivePlayer.addEventListener("loadedmetadata",this.handleBufferingStatusChange),this.primitivePlayer.addEventListener("seeked",this.handleBufferingStatusChange),this.primitivePlayer.addEventListener("ended",this.handleEnded),this.primitivePlayer.addEventListener("play",this.handlePlay),this.primitivePlayer.addEventListener("pause",this.handlePause),this.primitivePlayer.addEventListener("seeked",this.handleSeeked),this.primitivePlayer.addEventListener("durationchange",this.handleDurationChange),this.primitivePlayer.addEventListener("progress",this.handleDurationChange),this.debug&&this.updateDebugInfo()},e.prototype.enableSecondaryStreamLeakDetection=function(){this.primitivePlayer.addEventListener("timeupdate",this.handlePositionChanged);var t=this.toTimelinePosition(0);isNaN(t)&&(s.Logging.Logger.info("[SingleStreamPlayer] ["+this.debugLabel+"] Zero stream position not included in timeline. Setting low opacity."),this.video.style.opacity=e.HIDE_FRAME_OPACITY)},e.prototype.handlePositionChanged=function(){var e=this.primitivePlayer.streamPosition,t=this.toTimelinePosition(e);isNaN(t)?s.Logging.Logger.verbose("[SingleStreamPlayer] ["+this.debugLabel+"] Player at stream position ("+e+") not included in timeline"):this.video.style.opacity=""},e.prototype.updateDebugInfo=function(){var e=this;requestAnimationFrame((function(){return e.updateDebugInfo()})),this.debugInfo.innerText="\n            Position: "+this.streamPosition.toFixed(2)+"\n            Timeline: "+this.timelinePosition.toFixed(2)+"\n            Raw Duration: "+this.primitivePlayer.duration.toFixed(2)+"\n            Seekable Duration: "+this.seekableDuration.toFixed(2)+"\n            Max Seekable Timeline Position: "+this.maxSeekableTimelinePosition.toFixed(2)+"\n            Live: "+(void 0!==this.liveStreamPosition?this.liveStreamPosition.toFixed(2):void 0)+"\n            Paused: "+this.isPaused+"\n            Ended: "+this.isEnded+"\n            Buffering: "+this.isBuffering+"\n            Volume: "+this.volume+"\n            Muted: "+this.muted+"\n        "},e.prototype.handleRestart=function(){this.isPlaying?this.state=Se.PLAY_WHEN_READY:this.state=Se.INITIALIZING},e.prototype.handleEnded=function(){this.state=Se.ENDED},e.prototype.handleDurationChange=function(){s.Logging.Logger.info("[SingleStreamPlayer] ["+this.debugLabel+"] > duration change = "+this.primitivePlayer.duration),this.availabilityController.updateDurationFromVideoElement(this.primitivePlayer.duration),this.timelineController.updateDurationFromVideoElement(this.primitivePlayer.duration),this.tryDequeueSeek()},e.prototype.handleStreamLoaded=function(){s.Logging.Logger.info("[SingleStreamPlayer] ["+this.debugLabel+"] > Stream loaded");var e=this.state;this.state=Se.PAUSED,s.Browser.isMobileSafari||this.tryDequeueSeek(),e===Se.PLAY_WHEN_READY&&this.play()},e.prototype.handlePause=function(){if(this.state!==Se.PAUSED&&this.state!==Se.ENDED){var e=this.primitivePlayer.streamPosition>=this.primitivePlayer.duration;s.Logging.Logger.info("[SingleStreamPlayer] ["+this.debugLabel+"] > Pause from <video/> element, ended: "+e),this.state=e?Se.ENDED:Se.PAUSED}},e.prototype.handlePlay=function(){var e=this.state;s.Browser.isMobileSafari&&this.tryDequeueSeek(),this.state=Se.PLAYING,e===Se.PAUSE_WHEN_ABLE&&this.pause()},e.prototype.handleSeeked=function(){this.state===Se.PAUSED&&this.streamPosition==this.rawDuration&&(this.state=Se.ENDED),this.state===Se.ENDED&&this.streamPosition<this.rawDuration&&(this.state=Se.PAUSED),this.seekInProgress&&(s.Logging.Logger.info("[SingleStreamPlayer] ["+this.debugLabel+"] > Completed seek to "+this.seekInProgress.desiredPosition),clearTimeout(this.seekInProgress.timeout),this.seekInProgress.completionCallback&&this.seekInProgress.completionCallback(),this.seekInProgress=null),this.tryDequeueSeek()},e.prototype.dispose=function(){this.primitivePlayer.dispose()},e.prototype.updateStream=function(e){this.availabilityController.updateStream(e),this.timelineController.updateStream(e),this.stream=e},Object.defineProperty(e.prototype,"streamUrl",{get:function(){return this.stream.url},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isPlaying",{get:function(){return this.state===Se.PLAY_WHEN_READY||this.state===Se.STARTING||this.state===Se.PLAYING},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isPlayingActively",{get:function(){return this.state===Se.PLAYING&&!this.isBuffering},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isInitialized",{get:function(){return this.state!==Se.INITIALIZING&&this.state!==Se.PLAY_WHEN_READY},enumerable:!1,configurable:!0}),e.prototype.pause=function(){switch(this.state){case Se.PLAY_WHEN_READY:this.state=Se.INITIALIZING;break;case Se.PLAYING:this.primitivePlayer.pause(),this.state=Se.PAUSED;break;case Se.STARTING:this.state=Se.PAUSE_WHEN_ABLE;break;case Se.ENDED:break;case Se.INITIALIZING:case Se.PAUSE_WHEN_ABLE:case Se.PAUSED:break;default:this.logBadTransition("pause()")}},e.prototype.play=function(){switch(this.state){case Se.PAUSED:this.state=Se.STARTING,this.primitivePlayer.play();break;case Se.INITIALIZING:this.state=Se.PLAY_WHEN_READY;break;case Se.PAUSE_WHEN_ABLE:this.state=Se.STARTING;break;case Se.ENDED:break;case Se.PLAY_WHEN_READY:case Se.PLAYING:break;default:this.isPlaying||this.logBadTransition("play()")}},e.prototype.availableAt=function(e){return this.availabilityController.availableAt(e)},e.prototype.nextAvailablePosition=function(e){return this.availabilityController.nextAvailablePosition(e)},Object.defineProperty(e.prototype,"streamPosition",{get:function(){return this.primitivePlayer.streamPosition},set:function(e){this.setStreamPosition(e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"anticipatedStreamPosition",{get:function(){var e=this.streamPosition;return this.nextSeek?e=this.nextSeek.desiredPosition:this.seekInProgress&&(e=this.seekInProgress.desiredPosition),e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"liveStreamPosition",{get:function(){return this.timelineController.liveStreamPosition},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"liveTimelinePosition",{get:function(){return this.timelineController.liveTimelinePosition},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isLive",{get:function(){return this.timelineController.isLive},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"timelinePosition",{get:function(){return this.toTimelinePosition(this.streamPosition)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"anticipatedTimelinePosition",{get:function(){return this.toTimelinePosition(this.anticipatedStreamPosition)},enumerable:!1,configurable:!0}),e.prototype.toTimelinePosition=function(e){return this.timelineController.convertStreamToTimelinePosition(e)},e.prototype.setTimelinePosition=function(e,t){s.Logging.Logger.info("[SingleStreamPlayer] ["+this.debugLabel+"] > Seek to timelinePosition = "+e);var n=this.timelineController.convertTimelineToStreamPosition(e);isNaN(n)?s.Logging.Logger.error("[SingleStreamPlayer] ["+this.debugLabel+"] Requested seek to invalid timeline position "+e):this.setStreamPosition(n,t)},e.prototype.setStreamPosition=function(e,t){s.Logging.Logger.info("[SingleStreamPlayer] ["+this.debugLabel+"] > Seek to streamPosition = "+e),e<0&&(e=0);var n={desiredPosition:e,completionCallback:t,timeout:void 0};if(this.seekInProgress||!this.isInitialized||e>=0&&this.seekableDuration<=0){var i="";this.nextSeek&&(i=" (replacing seek to "+this.nextSeek.desiredPosition+")"),s.Logging.Logger.verbose("[SingleStreamPlayer] ["+this.debugLabel+"] > Enqueueing seek to "+n.desiredPosition+i),this.nextSeek=n}else{var o=this.clampPosition(e),r=Math.abs(this.primitivePlayer.streamPosition-o);r<d.SecondarySyncTargetSeconds&&o<this.rawDuration&&o>0?(s.Logging.Logger.info("[SingleStreamPlayer] ["+this.debugLabel+"] > Already sufficiently close to "+n.desiredPosition+" ("+r+")"),t&&t()):(this.state===Se.ENDED&&(this.state=Se.PAUSED),this.seekInProgress=n,this.primitivePlayer.streamPosition=o,this.seekInProgress.timeout=window.setTimeout(this.seekTimeout,500))}},e.prototype.seekTimeout=function(){this.seekInProgress&&(s.Logging.Logger.info("[SingleStreamPlayer] ["+this.debugLabel+"] > Seek to "+this.seekInProgress.desiredPosition+" timed out before seeked event. Current position is "+this.streamPosition),Math.abs(this.seekInProgress.desiredPosition-this.streamPosition)<d.SecondarySyncTargetSeconds&&this.handleBufferingStatusChange({type:"seektimeout"}),this.nextSeek||(this.nextSeek=this.seekInProgress,this.nextSeek.timeout=void 0),this.seekInProgress=null,this.tryDequeueSeek())},e.prototype.clampPosition=function(e){var t=0;return this.isInitialized&&(this.primitivePlayer.duration||s.Browser.isSafari)&&(t=Math.max(0,Math.min(e,this.seekableDuration))),t},e.prototype.tryDequeueSeek=function(){if(this.nextSeek){var e=this.nextSeek;s.Logging.Logger.verbose("[SingleStreamPlayer] ["+this.debugLabel+"] > Dequeueing seek to "+e.desiredPosition),this.nextSeek=null,this.setStreamPosition(e.desiredPosition,e.completionCallback)}},e.prototype.addEventListener=function(e,t){this.primitivePlayer.addEventListener(e,t)},Object.defineProperty(e.prototype,"fullscreen",{get:function(){return this.primitivePlayer.fullscreen},set:function(e){this.primitivePlayer.fullscreen=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"muted",{get:function(){return this.primitivePlayer.muted},set:function(e){this.primitivePlayer.muted=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"volume",{get:function(){return this.primitivePlayer.volume},set:function(e){this.primitivePlayer.volume=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"seekableDuration",{get:function(){return this.timelineController.liveStreamPosition||this.primitivePlayer.duration||0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxSeekableTimelinePosition",{get:function(){return this.timelineController.convertStreamToTimelinePosition(this.seekableDuration)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rawDuration",{get:function(){return this.primitivePlayer.duration},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isPaused",{get:function(){return!this.isPlaying},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isEnded",{get:function(){return this.state===Se.ENDED},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"playbackRate",{get:function(){return this.primitivePlayer.playbackRate},set:function(e){s.Logging.Logger.info("[SingleStreamPlayer] ["+this.debugLabel+"] > playbackRate",e),this.primitivePlayer.playbackRate=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isBuffering",{get:function(){return this._buffering},enumerable:!1,configurable:!0}),e.prototype.setOnBufferingStateChanged=function(e){this._onBufferingStateChanged=e},e.prototype.handleBufferingStatusChange=function(e){var t=this._buffering;switch(e.type){case"waiting":t=!0;break;case"playing":case"canplay":case"canplaythrough":case"loadedmetadata":case"seeked":case"seektimeout":t=!1}t!==this._buffering&&(s.Logging.Logger.info("[SingleStreamPlayer] ["+this.debugLabel+"] > "+e.type+" event, "+(t?"":"not ")+"buffering"),this._buffering=t,this._onBufferingStateChanged&&this._onBufferingStateChanged(this))},Object.defineProperty(e.prototype,"bitrateOptions",{get:function(){return this.primitivePlayer.levels.map((function(e){return e.bitrate}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bitrate",{get:function(){var e=this.primitivePlayer;return e&&-1!==e.currentLevel?e.levels[e.currentLevel].bitrate:0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bitrateIndex",{get:function(){return this.primitivePlayer.currentLevel},set:function(e){this.isInitialized&&e!==this.primitivePlayer.currentLevel&&(this.primitivePlayer.currentLevel=e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"optimizationProvider",{get:function(){return this.primitivePlayer.optimizationProvider},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"state",{get:function(){return this._state},set:function(e){e!==this._state&&(s.Logging.Logger.info("[SingleStreamPlayer] ["+this.debugLabel+"] > State Transition "+Se[this.state]+" -> "+Se[e]),this._state=e)},enumerable:!1,configurable:!0}),e.prototype.logBadTransition=function(e){s.Logging.Logger.info("[SingleStreamPlayer] ["+this.debugLabel+"] > Unexpected transition: "+e+" called while in state "+Se[this.state])},e.prototype.disableTextTracks=function(e){for(var t=0;t<e.textTracks.length;t++)e.textTracks[t].mode="disabled";e.textTracks.onaddtrack=function(e){e.track.mode="disabled"}},e.HIDE_FRAME_OPACITY=".05",we([X],e.prototype,"handlePositionChanged",null),we([X],e.prototype,"handleRestart",null),we([X],e.prototype,"handleEnded",null),we([X],e.prototype,"handleDurationChange",null),we([X],e.prototype,"handleStreamLoaded",null),we([X],e.prototype,"handlePause",null),we([X],e.prototype,"handlePlay",null),we([X],e.prototype,"handleSeeked",null),we([X],e.prototype,"seekTimeout",null),we([X],e.prototype,"handleBufferingStatusChange",null),e}(),Be=function(){function e(){}return e.prototype.forState=function(e){if(!e.activePrimary)return!1;var t=e.activePrimary,n=e.paused,i=e.isBuffering,o=t.isBuffering,r=t.anticipatedTimelinePosition,a=e.activeSecondary instanceof ke?e.activeSecondary:void 0,s=!!a&&a.isBuffering,l=a?a.anticipatedTimelinePosition:r;return this.forStateImpl({paused:n,isBuffering:i,timelinePosition:r,activePrimaryIsBuffering:o,activeSecondaryIsBuffering:s,activeSecondaryAnticipatedTimelinePosition:l},(function(){return e.activePrimary instanceof ke?e.activePrimary.pause():void 0}),(function(){return e.activeSecondary instanceof ke?e.activeSecondary.pause():void 0}))},e.prototype.forStateImpl=function(e,t,n){if(!e.activePrimaryIsBuffering&&!e.activeSecondaryIsBuffering)return!1;if(e.paused){var i=e.activePrimaryIsBuffering||e.activeSecondaryIsBuffering;return i&&s.Logging.Logger.info("[BufferingStatusController] > Buffering while paused"),i}return e.activePrimaryIsBuffering?(n(),s.Logging.Logger.info("[BufferingStatusController] > buffering due to primary"),!0):!(!e.activeSecondaryIsBuffering||!(e.timelinePosition-e.activeSecondaryAnticipatedTimelinePosition>d.SecondarySyncTargetSeconds||e.isBuffering))&&(t(),s.Logging.Logger.info("[BufferingStatusController] > buffering due to secondary"),!0)},e}(),Te=function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},Re=function(){function e(e,t,n){this.isBroadcast=e,this.playersController=t,this.onTimelineDurationChanged=n,this.duration=0}return e.prototype.handleDurationChange=function(){var e=this.playersController.getActivePlayers(1/0,!0),t=e.primary,n=e.secondary,i=1/0;t&&(i=t.maxSeekableTimelinePosition),this.isBroadcast&&n instanceof ke&&(i=Math.min(i,n.maxSeekableTimelinePosition)),i!==1/0&&(this.isBroadcast?(s.Logging.Logger.verbose("DurationController.handleDurationChange: broadcast duration update to "+i),this.onTimelineDurationChanged(i)):this.duration<i&&(s.Logging.Logger.verbose("DurationController.handleDurationChange: VOD duration update to "+i),this.onTimelineDurationChanged(i)))},e.prototype.addSingleStreamPlayer=function(e){e.addEventListener("durationchange",this.handleDurationChange),e.addEventListener("progress",this.handleDurationChange)},e.prototype.updateState=function(e){this.duration=e.duration,this.isBroadcast=e.isBroadcast},Te([X],e.prototype,"handleDurationChange",null),e}(),De=n(6),xe=n.n(De),Oe=n(10),Ie={insert:"head",singleton:!1},_e=(xe()(Oe.a,Ie),Oe.a.locals,n(1)),Me=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Ne=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.StyledCircularProgress=Z.Material.withStyles({colorPrimary:{color:"rgba(255, 255, 255, 0.8)"}})(Z.Material.CircularProgress),t}return Me(t,e),t.prototype.render=function(){return _e.createElement("div",{className:"buffering-indicator-container"},_e.createElement(this.StyledCircularProgress,{size:48}))},t}(_e.Component),Fe=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),je=function(e){function t(t,n,i,o,r){var a=e.call(this,t,n,i,void 0,o,r)||this;return a.container=n,a}return Fe(t,e),t.create=function(e,n,i){var o=document.createElement("div");o.classList.add("hls-stream-player-container");var r=document.createElement("video");r.classList.add("hls-stream-player-video"),r.setAttribute("playsinline",""),i||(r.style.opacity=ke.HIDE_FRAME_OPACITY),o.append(r);var a=new t(e,o,r,n,i?"primary":"secondary");return i||a.enableSecondaryStreamLeakDetection(),a},t.prototype.attachToDOM=function(e){e.prepend(this.container)},t.prototype.detachFromDOM=function(){this.container.parentNode&&this.container.parentNode.removeChild(this.container)},t}(ke),He=function(){function e(e){void 0===e&&(e=document),this.currentGridPlayers=[];var t=e.querySelector("#player"),n=e.querySelector("#pipPlayer"),i=e.querySelector("#gridPlayers"),o=e.querySelector("#captionPlayer"),r=e.querySelector("#bufferingIndicator");if(!(t instanceof HTMLElement&&n instanceof HTMLElement&&i instanceof HTMLElement&&o instanceof HTMLElement&&r instanceof HTMLElement))throw Error("Missing at least one of the required elements in the container.");this.playerElement=t,this.pipPlayerElement=n,this.gridPlayersElement=i,this.captionPlayerElement=o,this.bufferingIndicatorElement=r,Object(Z.bootstrapReactComponent)(Ne)($(this.bufferingIndicatorElement),{})}return e.prototype.setCaptionPlayer=function(e){this.captionPlayer=e},e.prototype.calculateEffectiveLayoutMode=function(e){var t=e.activePrimary,n=e.activeSecondary,i=e.playerLayoutMode;return(null==t?void 0:t.isAudioOnly)&&n&&(i=L.SecondaryOnly),n||(i=L.PrimaryOnly),n instanceof P&&(i=L.SecondaryOnly),i},e.prototype.requireGridPlayersReset=function(e){if(this.currentGridPlayers.length!==e.length)return!0;for(var t=0;t<this.currentGridPlayers.length;t++)if(this.currentGridPlayers[t]!==e[t])return!0;return!1},e.prototype.updateState=function(e){var t,n,i=e.activePrimary,o=e.activeSecondary,r=e.captionVisible,a=this.calculateEffectiveLayoutMode(e),l=[];switch(a){case L.Normal:t=o,n=i;break;case L.Swapped:t=i,n=o;break;case L.SideBySide:i&&l.push(i),o&&l.push(o);break;case L.PrimaryOnly:t=i,n=o;break;case L.SecondaryOnly:t=o,n=i}if(this.currentPlayer!==t&&(s.Logging.Logger.debug("[LayoutController] > player changed",t&&t.id),this.currentPlayer&&this.currentPlayer.detachFromDOM(),t&&t.attachToDOM(this.playerElement),this.currentPlayer=t,this.currentPipPlayer===this.currentPlayer&&(this.currentPipPlayer=void 0)),this.currentPipPlayer!==n&&(s.Logging.Logger.debug("[LayoutController] > pipPlayer changed",n&&n.id),this.currentPipPlayer&&this.currentPipPlayer.detachFromDOM(),n&&n.attachToDOM(this.pipPlayerElement),this.currentPipPlayer=n),this.requireGridPlayersReset(l)){for(var c=0,u=this.currentGridPlayers;c<u.length;c++){(A=u[c])!==this.currentPlayer&&A!==this.currentPipPlayer&&A.detachFromDOM()}this.currentGridPlayers.length=0;for(var d=0,p=l.reverse();d<p.length;d++){var A;(A=p[d]).attachToDOM(this.gridPlayersElement),this.currentGridPlayers.splice(0,0,A)}}this.captionPlayer&&(!r||o instanceof P?this.captionPlayer.detachFromDOM():this.captionPlayer.attachToDOM(this.captionPlayerElement)),a===L.PrimaryOnly||a===L.SecondaryOnly?this.pipPlayerElement.style.visibility="hidden":this.pipPlayerElement.style.visibility="visible",this.currentPlayer instanceof je&&this.currentPlayer.isAudioOnly?this.playerElement.classList.add("audio-only"):this.playerElement.classList.remove("audio-only"),e.isBuffering?this.bufferingIndicatorElement.style.visibility="visible":this.bufferingIndicatorElement.style.visibility="hidden"},e}();!function(e){e[e.Playing=1]="Playing",e[e.Paused=2]="Paused",e[e.Stopped=3]="Stopped",e[e.Buffering=4]="Buffering"}(Le||(Le={}));var Ve,qe=function(){function e(e){this.state=e}return e.prototype.addSingleStreamPlayer=function(e){var t=this;e.addEventListener("seeked",(function(n){return t.handlePositionChange(n,e)})),e.addEventListener("timeupdate",(function(n){return t.handlePositionChange(n,e)})),e.addEventListener("ended",(function(n){return t.handlePlayStateChange(n,e)})),e.addEventListener("error",(function(n){return t.handlePlayStateChange(n,e)})),e.addEventListener("pause",(function(n){return t.handlePlayStateChange(n,e)})),e.addEventListener("playing",(function(n){return t.handlePlayStateChange(n,e)})),e.addEventListener("stalled",(function(n){return t.handlePlayStateChange(n,e)})),e.addEventListener("waiting",(function(n){return t.handlePlayStateChange(n,e)}))},e.prototype.updateState=function(e){this.state=e},e.prototype.handlePositionChange=function(e,t){t===this.state.activePrimary&&"seeked"===e.type&&this.loggerSeekHandler&&this.loggerSeekHandler()},e.prototype.handlePlayStateChange=function(e,t){if(t===this.state.activePrimary)if("pause"===e.type){var n=t.streamPosition>=t.rawDuration-.1?Le.Stopped:Le.Paused;this.loggerPlayStateChangeHandler&&this.loggerPlayStateChangeHandler(Le.Playing,n)}else"playing"===e.type?t.streamPosition<t.rawDuration&&this.loggerPlayStateChangeHandler&&this.loggerPlayStateChangeHandler(Le.Paused,Le.Playing):"ended"===e.type&&this.loggerPlayStateChangeHandler&&this.loggerPlayStateChangeHandler(void 0,Le.Stopped)},e.prototype.createPlayerInterfaceForPlaybackLogger=function(){var e=this;return{playSpeed:function(){return e.state.playbackRate},streamId:function(){return e.state.activePrimary&&e.state.activePrimary.id},position:function(){return e.state.activePrimary&&e.state.activePrimary.streamPosition||0},onSeek:function(t){e.loggerSeekHandler=t},onPlayStateChangeLog:function(t){e.loggerPlayStateChangeHandler=t},onSpeedChange:function(t){e.loggerSpeedChangeHandler=t}}},e}(),Ue=function(e,t,n){if(n||2===arguments.length)for(var i,o=0,r=t.length;o<r;o++)!i&&o in t||(i||(i=Array.prototype.slice.call(t,0,o)),i[o]=t[o]);return e.concat(i||Array.prototype.slice.call(t))},ze=function(){function e(e,t,n,i,o,r,a){var s=this;this.appRoot=e,this.focusService=t,this.onPlayerCreated=n,this.onPlayerLoaded=i,this.onDocumentPlayerCreated=r,this.onDocumentPlayerEnded=a,this.players={},this.captionPlayer=new u,this.slidePlayers={},this.documentPlayers={},this.delivery={primaryStreams:[],secondaryStreams:[],captions:[],slideDecks:[],documents:[],isBroadcast:!1},window.setTimeout((function(){o(s.captionPlayer)}),0)}return e.prototype.updateCaptions=function(e,t){this.captionPlayer.updateCaptions(e,t)},e.prototype.updateDelivery=function(e){var t=this,n=function(e,n){if(t.players[e.id])t.players[e.id].updateStream(e);else{var i=je.create(e,t.onPlayerLoaded,n);t.onPlayerCreated(i,n),t.players[e.id]=i}};e.primaryStreams.forEach((function(e){return n(e,!0)})),e.secondaryStreams.forEach((function(e){return n(e,!1)})),e.slideDecks.forEach((function(e){if(!t.slidePlayers[e.id]){var n=new I(t.appRoot,e);t.slidePlayers[e.id]=n}})),e.documents.forEach((function(e){if(!t.documentPlayers[e.id]){var n=new P(e,t.focusService,t.onDocumentPlayerEnded);t.onDocumentPlayerCreated(n),t.documentPlayers[e.id]=n}})),this.delivery=e},e.prototype.updateInvocationContext=function(e,t){for(var n=0,i=Object.keys(this.documentPlayers);n<i.length;n++){var o=i[n];this.documentPlayers[o].updateInvocationContext(e,t)}},e.prototype.resetDocumentsAfter=function(e){_.chain(this.documentPlayers).map((function(t){t.timelinePosition>=e&&t.reset()}))},e.prototype.getActivePlayers=function(e,t){var n,i=this;void 0===t&&(t=!1);var o=this.delivery.primaryStreams,r=o[o.length-1],a=_.chain(o).map((function(e){return i.players[e.id]})).filter((function(t){return t.availableAt(e)})).first().value()||_.chain(o).map((function(e){return i.players[e.id]})).filter((function(t){return void 0!==t.nextAvailablePosition(e)})).first().value()||this.players[r.id],s=_.chain(this.delivery.documents).map((function(e){return i.documentPlayers[e.id]})).filter((function(e){return!!e})).filter((function(t){return t.availableAt(e)})).last().value(),l=this.getSelectableSecondaryList(e),c=(null===(n=this.selectedSecondary)||void 0===n?void 0:n.availableAt(e))?this.selectedSecondary:l[0];return{primary:a,secondary:t?c:s||c,availableSecondaryCount:l.length}},e.prototype.nextSecondary=function(e){var t,n=this.getSelectableSecondaryList(e),i=(null===(t=this.selectedSecondary)||void 0===t?void 0:t.availableAt(e))?this.selectedSecondary:n[0];if(void 0!==i){for(var o=n.length,r=0;r<o;r++)if(n[r].id===i.id){this.selectedSecondary=n[(r+1)%o];break}return this.selectedSecondary}},e.prototype.getSelectableSecondaryList=function(e){var t=this,n=_.chain(this.delivery.secondaryStreams).map((function(e){return t.players[e.id]})).filter((function(e){return!!e})).filter((function(t){return t.availableAt(e)})).toArray().reverse().value(),i=_.chain(this.delivery.slideDecks).map((function(e){return t.slidePlayers[e.id]})).filter((function(e){return!!e})).toArray().reverse().value();return Ue(Ue([],n,!0),i,!0)},e}(),Ye=function(){function e(e){this.options=e,this.isBuffering=!1}return e.prototype.addSingleStreamPlayer=function(e){var t=this;e.addEventListener("seeked",(function(){return t.handlePositionChange(e)})),e.addEventListener("timeupdate",(function(){return t.handlePositionChange(e)})),e.addEventListener("ended",(function(){return t.handlePlayStateChange(e)})),e.addEventListener("error",(function(){return t.handlePlayStateChange(e)})),e.addEventListener("pause",(function(){return t.handlePlayStateChange(e)})),e.addEventListener("playing",(function(){return t.handlePlayStateChange(e)}))},e.prototype.setCaptionPlayer=function(e){this.captionPlayer=e},e.prototype.updateState=function(e){var t=e.activePrimary,n=e.activeSecondary,i=e.timelinePosition,o=e.volume,r=e.muted,a=e.paused,s=e.playbackRate,l=e.isBuffering,c=e.isSyncPaused;this.isBuffering=l,t&&(this.activePrimaryPlayer!==t&&void 0!==i&&t.setTimelinePosition(i),this.setActivePlayers(t,c?void 0:n)),this.syncPlaybackRate(s),this.syncVolume(o,r),l||(void 0!==i&&this.syncPosition(i),t&&a!==t.isPaused&&(a?t.pause():t.play()),this.syncPlayState(a))},e.prototype.setActivePlayers=function(e,t){this.activePrimaryPlayer!==e&&(this.activePrimaryPlayer&&this.activePrimaryPlayer.pause(),this.activePrimaryPlayer=e),this.activeSecondaryPlayer!==t&&(this.activeSecondaryPlayer instanceof ke&&this.activeSecondaryPlayer.pause(),this.activeSecondaryPlayer=t)},e.prototype.handlePositionChange=function(e){e===this.activePrimaryPlayer&&this.options.onTimelinePositionChanged(e.timelinePosition)},e.prototype.syncPlaybackRate=function(e){this.activePrimaryPlayer&&this.activePrimaryPlayer.playbackRate!==e&&(this.activePrimaryPlayer.playbackRate=e),this.activeSecondaryPlayer instanceof ke&&this.activeSecondaryPlayer.playbackRate!==e&&(this.activeSecondaryPlayer.playbackRate=e)},e.prototype.syncVolume=function(e,t){this.activePrimaryPlayer&&(this.activePrimaryPlayer.volume!==e&&(this.activePrimaryPlayer.volume=e),this.activePrimaryPlayer.muted!==t&&(this.activePrimaryPlayer.muted=t)),this.activeSecondaryPlayer instanceof ke&&(this.activeSecondaryPlayer.muted||(this.activeSecondaryPlayer.muted=!0))},e.prototype.syncPosition=function(e){if(this.activeSecondaryPlayer)if(this.activeSecondaryPlayer instanceof ke&&!this.activeSecondaryPlayer.isBuffering){var t=this.activeSecondaryPlayer.timelinePosition-e;(Math.abs(t)>d.SecondarySyncTargetSeconds||isNaN(t))&&(s.Logging.Logger.verbose("SynchronizationController.syncPosition: timelinePosition: "+e+" activeSecondaryPlayer.timelinePosition: "+this.activeSecondaryPlayer.timelinePosition+" diff: "+t),this.activeSecondaryPlayer.setTimelinePosition(e))}else this.activeSecondaryPlayer instanceof I&&this.activeSecondaryPlayer.setTimelinePosition(e);this.captionPlayer&&this.captionPlayer.setTimelinePosition(e)},e.prototype.handlePlayStateChange=function(e){if(e===this.activePrimaryPlayer)s.Logging.Logger.verbose("[SyncController] > primary play state changed (isPaused: "+e.isPaused+", isEnded: "+e.isEnded+", isBuffering: "+e.isBuffering+")"),(t=e.isPaused||e.isEnded)&&e.streamPosition===e.rawDuration&&this.options.onPrimaryEnded(),this.isBuffering||(this.options.onPlayStateChanged(t),this.syncPlayState(t));else if(this.activePrimaryPlayer&&e===this.activeSecondaryPlayer){var t=this.activePrimaryPlayer.isPaused||this.activePrimaryPlayer.isEnded;this.syncPlayState(t)}else e.isPaused||e.isEnded||e.pause()},e.prototype.syncPlayState=function(e){var t=e||this.activePrimaryPlayer&&this.activePrimaryPlayer.isBuffering;if(this.activeSecondaryPlayer instanceof ke){if(t===this.activeSecondaryPlayer.isPaused)return;if(t)s.Logging.Logger.verbose("[SyncController] > sync to pause"),this.activeSecondaryPlayer.pause();else{if(this.activeSecondaryPlayer.isEnded)return;s.Logging.Logger.verbose("[SyncController] > sync to resume"),this.activeSecondaryPlayer.play()}}},e}(),Ge=function(){return(Ge=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},Qe=function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},Ze=function(){function e(e,t,n,i){var o=this;this.delivery=e,this.appRoot=t,this.onStateChanged=n,this.startAtInfinity=!1,this.options={resetToStartUponVoDEnd:!0,defaultLayout:L.Normal,focusService:{trapFocus:function(){s.Logging.Logger.warning("[TimelineController] > trapFocus not injected")},releaseFocus:function(){s.Logging.Logger.warning("[TimelineController] > releaseFocus not injected")}},notifyInitialState:function(){}},this.options=Ge(Ge({},this.options),i),this.state={playbackRate:1,timelinePosition:0,isBuffering:!0,paused:!0,volume:1,muted:!1,availableSecondaryCount:0,playerLayoutMode:this.options.defaultLayout,captionVisible:!1,audioDescriptionActivated:!1,duration:e.duration,isBroadcast:e.isBroadcast,isLive:!1,isEnded:!1,isSyncPaused:!1},this.playersController=new ze(this.appRoot,this.options.focusService,this.handlePlayerCreated,this.handlePlayerLoaded,this.handleCaptionPlayerCreated,this.handleDocumentPlayerCreated,this.handleDocumentPlayerEnded),this.layoutController=new He,this.playbackLoggerController=new qe(this.state),this.synchronizationController=new Ye({onTimelinePositionChanged:function(e){return o.handleTimelinePositionChanged(e,!1)},onPlayStateChanged:this.handlePlayStateChanged,onPrimaryEnded:this.handlePrimaryEnded,isBroadcast:e.isBroadcast}),this.durationController=new Re(e.isBroadcast,this.playersController,this.handleTimelineDurationChanged),this.blockingContentController=new ne,this.bufferingStatusController=new Be,this.backgroundingController=new te(this.handleSyncPauseChange),this.audioDescriptionController=new c(this.handlePlayStateChanged),this.options.notifyInitialState(this.state)}return e.prototype.createPlayerInterfaceForPlaybackLogger=function(){return this.playbackLoggerController.createPlayerInterfaceForPlaybackLogger()},e.prototype.updateCaptions=function(e){this.playersController.updateCaptions(e,this.state.timelinePosition)},e.prototype.updateAudioDescriptions=function(e){this.audioDescriptionController.updateAudioDescriptions(e,this.state.timelinePosition)},e.prototype.setAudioDescriptionsEnabled=function(e){this.state=Ge(Ge({},this.state),{audioDescriptionActivated:e}),this.notifyStateChange()},e.prototype.updateDelivery=function(e){this.delivery=e,this.state=Ge(Ge({},this.state),{isBroadcast:e.isBroadcast}),this.notifyStateChange(),this.playersController.updateDelivery(e);var t=this.state,n=t.timelinePosition,i=t.activePrimary;n&&i&&i.isEnded&&(i!==this.playersController.getActivePlayers(1/0).primary&&this.start(1/0))},e.prototype.updateInvocationContext=function(e,t){this.playersController.updateInvocationContext(e,t)},e.prototype.start=function(e){this.playersController.updateDelivery(this.delivery),s.Logging.Logger.info("[TimelineController] > start at "+e);var t=this.playersController.getActivePlayers(e),n=t.primary,i=t.secondary;if(e===1/0){if(i instanceof je&&(!n.isInitialized||!i.isInitialized))return s.Logging.Logger.debug("[TimelineController] > Two stream start at infinity. Waiting for player to load"),void(this.startAtInfinity=!0);n.isLive?i instanceof je&&(e=Math.min(n.maxSeekableTimelinePosition,i.maxSeekableTimelinePosition)):e=n.timelinePosition,s.Logging.Logger.debug("[TimelineController] > Starting at Infinity, resolved to "+e)}var o=this.blockingContentController.getBlockingPosition(e);e=void 0!==o?o:e,this.handleTimelinePositionChanged(e,!0),n&&void 0===o&&this.resume()},e.prototype.resume=function(){var e;(null===(e=this.state.activePrimary)||void 0===e?void 0:e.isEnded)&&this.seek(0);var t=this.playersController.getActivePlayers(this.state.timelinePosition),n=t.primary,i=t.secondary;this.state=Ge(Ge({},this.state),{activePrimary:n,activeSecondary:i}),this.notifyStateChange(),this.handlePlayStateChanged(i instanceof P)},e.prototype.pause=function(){this.handlePlayStateChanged(!0)},e.prototype.togglePlayState=function(){return!!this.state.activePrimary&&(this.state.paused?(this.resume(),!0):(this.pause(),!1))},e.prototype.muted=function(e){this.state=Ge(Ge({},this.state),{muted:e}),this.notifyStateChange()},e.prototype.volume=function(e){e=Math.max(e,0),this.state=Ge(Ge({},this.state),{volume:e,muted:0===e}),this.notifyStateChange()},e.prototype.cycleSecondary=function(){var e=this.playersController.nextSecondary(this.state.timelinePosition);this.state=Ge(Ge({},this.state),{activeSecondary:e}),this.notifyStateChange()},e.prototype.playerLayoutMode=function(e){this.state=Ge(Ge({},this.state),{playerLayoutMode:e}),this.notifyStateChange()},e.prototype.seek=function(e,t){var n=this.blockingContentController.getBlockingPosition(e);e=void 0!==n?n:e,this.playersController.resetDocumentsAfter(e),this.handleTimelinePositionChanged(e,!0,t)},e.prototype.captionVisible=function(e){this.state=Ge(Ge({},this.state),{captionVisible:e}),this.notifyStateChange()},e.prototype.playbackRate=function(e){this.state=Ge(Ge({},this.state),{playbackRate:e}),this.notifyStateChange()},e.prototype.isTimelineLive=function(e,t){var n,i,o=!1;if(this.state.isBroadcast){var r=this.playersController.getActivePlayers(1/0,!0),a=r.primary,s=r.secondary;o=e>=t-Math.max(null!==(n=null==a?void 0:a.broadcastSegmentDuration)&&void 0!==n?n:0,s instanceof ke&&null!==(i=s.broadcastSegmentDuration)&&void 0!==i?i:0)}return o},e.prototype.notifyStateChange=function(){this.layoutController.updateState(this.state),this.playbackLoggerController.updateState(this.state),this.synchronizationController.updateState(this.state),this.durationController.updateState(this.state),this.audioDescriptionController.updateState(this.state),this.onStateChanged(this.state)},e.prototype.handlePrimaryEnded=function(){var e,t=(null===(e=this.state.activePrimary)||void 0===e?void 0:e.timelinePosition)||this.state.timelinePosition;if(!this.state.isBroadcast&&(void 0===this.pausePosition||this.pausePosition===t)&&this.options.resetToStartUponVoDEnd){this.state=Ge(Ge({},this.state),{isEnded:!0}),this.notifyStateChange();var n=this.blockingContentController.getBlockingPosition(1/0);n?this.handleTimelinePositionChanged(n,!1):(this.seek(0),this.pause())}},e.prototype.handlePlayerBufferingStateChange=function(e){var t=this.state,n=t.activePrimary,i=t.activeSecondary,o=t.isBuffering;if(e===i||e===n){var r=this.bufferingStatusController.forState(this.state);r!==o&&(this.state=Ge(Ge({},this.state),{isBuffering:r}),this.notifyStateChange())}},e.prototype.handlePlayerCreated=function(e,t){e.setOnBufferingStateChanged(this.handlePlayerBufferingStateChange),this.playbackLoggerController.addSingleStreamPlayer(e),this.synchronizationController.addSingleStreamPlayer(e),this.durationController.addSingleStreamPlayer(e)},e.prototype.handlePlayerLoaded=function(){this.startAtInfinity&&(this.startAtInfinity=!1,this.start(1/0))},e.prototype.handleCaptionPlayerCreated=function(e){this.layoutController.setCaptionPlayer(e),this.synchronizationController.setCaptionPlayer(e)},e.prototype.handleDocumentPlayerCreated=function(e){this.blockingContentController.addDocumentPlayer(e)},e.prototype.handleDocumentPlayerEnded=function(e){var t=this.state.timelinePosition,n=void 0!==this.blockingContentController.getBlockingPosition(t);s.Logging.Logger.info("[TimelineController] > Resuming after pausing or blocking content."),n||e.dismiss();var i=this.playersController.getActivePlayers(t,n),o=i.primary,r=i.secondary,a=i.availableSecondaryCount;this.state=Ge(Ge({},this.state),{activePrimary:o,activeSecondary:r,availableSecondaryCount:a,paused:n}),this.notifyStateChange()},e.prototype.dismissDocumentPlayer=function(){var e=this.state.activeSecondary;e instanceof P?this.handleDocumentPlayerEnded(e):s.Logging.Logger.warning("[TimelineController] > Attempt to dismiss a player that is not a document")},e.prototype.handleTimelinePositionChanged=function(e,t,n){var i=this.playersController.getActivePlayers(e),o=i.primary,r=i.secondary,a=i.availableSecondaryCount;t&&(null==o||o.setTimelinePosition(e,n),this.audioDescriptionController.seek(e));var s=Ge(Ge({},this.state),{isLive:this.isTimelineLive(e,this.state.duration),isEnded:o?o.isEnded:this.state.isEnded,timelinePosition:e,activePrimary:o,activeSecondary:r,availableSecondaryCount:a,paused:r instanceof P||this.state.paused});s.isBuffering=this.bufferingStatusController.forState(s),this.state=s,this.notifyStateChange()},e.prototype.handleTimelineDurationChanged=function(e){var t,n,i=null!==(n=null===(t=this.state.activePrimary)||void 0===t?void 0:t.timelinePosition)&&void 0!==n?n:this.state.timelinePosition;this.state=Ge(Ge({},this.state),{isLive:this.isTimelineLive(i,e),timelinePosition:i,duration:e}),this.notifyStateChange()},e.prototype.handlePlayStateChanged=function(e){e!==this.state.paused&&(s.Logging.Logger.info("[TimelineController] > "+(e?"paused":"playing")),this.state=Ge(Ge({},this.state),{paused:e}),this.notifyStateChange(),e?this.pausePosition=this.state.activePrimary?this.state.activePrimary.timelinePosition:void 0:(this.pausePosition=void 0,this.audioDescriptionController.resume(this.state.timelinePosition||0)))},e.prototype.handleSyncPauseChange=function(e){this.state=Ge(Ge({},this.state),{isSyncPaused:e}),this.notifyStateChange()},Qe([X],e.prototype,"handlePrimaryEnded",null),Qe([X],e.prototype,"handlePlayerBufferingStateChange",null),Qe([X],e.prototype,"handlePlayerCreated",null),Qe([X],e.prototype,"handlePlayerLoaded",null),Qe([X],e.prototype,"handleCaptionPlayerCreated",null),Qe([X],e.prototype,"handleDocumentPlayerCreated",null),Qe([X],e.prototype,"handleDocumentPlayerEnded",null),Qe([X],e.prototype,"dismissDocumentPlayer",null),Qe([X],e.prototype,"handleTimelinePositionChanged",null),Qe([X],e.prototype,"handleTimelineDurationChanged",null),Qe([X],e.prototype,"handlePlayStateChanged",null),Qe([X],e.prototype,"handleSyncPauseChange",null),e}(),We=function(){function e(){}return Object.defineProperty(e,"SwapPlayerPositionsA",{get:function(){return _e.createElement("svg",{width:"24px",height:"24px",viewBox:"0 0 24 24",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},_e.createElement("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},_e.createElement("rect",{id:"Rectangle",fill:"#000000",opacity:"0",x:"0",y:"0",width:"24",height:"24"}),_e.createElement("g",{id:"resize",transform:"translate(12.000000, 12.000000) scale(-1, 1) translate(-12.000000, -12.000000) translate(2.000000, 2.000000)",fill:"#FFFFFF",fillRule:"nonzero"},_e.createElement("path",{d:"M8.59,10 L12.59,6 L9,6 L9,4 L16,4 L16,11 L14,11 L14,7.41 L10,11.41 L10,14 L18,14 L18,2 L6,2 L6,10 L8.59,10 M20,0 L20,16 L10,16 L10,20 L0,20 L0,10 L4,10 L4,0\r\n                                L20,0 M8,12 L2,12 L2,18 L8,18 L8,12 Z",id:"Shape"})),_e.createElement("rect",{id:"Rectangle",fill:"#FFFFFF",x:"12",y:"12",width:"10",height:"10"})))},enumerable:!1,configurable:!0}),Object.defineProperty(e,"SwapPlayerPositionsB",{get:function(){return _e.createElement("svg",{width:"24px",height:"24px",viewBox:"0 0 24 24",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},_e.createElement("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},_e.createElement("rect",{id:"Rectangle",fill:"#000000",opacity:"0",x:"0",y:"0",width:"24",height:"24"}),_e.createElement("g",{id:"resize",transform:"translate(12.000000, 12.000000) scale(-1, 1) translate(-12.000000, -12.000000) translate(2.000000, 2.000000)"},_e.createElement("path",{d:"M20,0 L20,16 L10,16 L10,20 L0,20 L0,10 L4,10 L4,0 L20,0 Z M16,4 L9,4 L9,6 L12.59,6 L8.59,10 L6,10 L6,12.0223389 L7.99902344,12.0223389\r\n                                    L7.99902344,14 L10,14 L10,11.41 L14,7.41 L14,11 L16,11 L16,4 Z M8,12 L2,12 L2,18 L8,18 L8,12 Z",id:"Shape",fill:"#FFFFFF",fillRule:"nonzero"}),_e.createElement("rect",{id:"Rectangle",stroke:"#FFFFFF",strokeWidth:"2",x:"1",y:"11",width:"8",height:"8"}))))},enumerable:!1,configurable:!0}),Object.defineProperty(e,"PictureInPictureView",{get:function(){return _e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 0 24 24",width:"24px",fill:"#FFFFFF"},_e.createElement("path",{d:"M0 0h24v24H0V0z",fill:"none"}),_e.createElement("path",{d:"M19 11h-8v6h8v-6zm4 8V4.98C23 3.88 22.1 3 21 3H3c-1.1 0-2 .88-2 1.98V19c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2zm-2 .02H3V4.97h18v14.05z"}))},enumerable:!1,configurable:!0}),Object.defineProperty(e,"SecondaryOnlyView",{get:function(){return _e.createElement("svg",{width:"24px",height:"24px",viewBox:"0 0 24 24",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},_e.createElement("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},_e.createElement("g",{id:"Secondary-Copy-2",transform:"translate(0.000000, -1.000000)"},_e.createElement("g",{id:"Group",transform:"translate(-0.000000, -0.000000)"},_e.createElement("path",{d:"M23,20 L23,5.98000002 C23,4.88000002 22.1000001,4.00000001 21,4.00000001 L3,4.00000001 C1.90000001,4.00000001 1,4.88000002 1,5.98000002 L1,20 C1,21.1000001 1.90000001,22\r\n                                        3,22 L21,22 C22.1000001,22 23,21.1000001 23,20 Z M21,20.0200001 L3.00000001,20.0200001 L3.00000001,5.97000002 L21,5.97000002 L21,20.0200001 Z",id:"Shape",fill:"#FFFFFF"}),_e.createElement("polygon",{id:"Path",points:"0 0 24.0000001 0 24.0000001 24.0000001 0 24.0000001"})),_e.createElement("g",{id:"account-off",transform:"translate(6.000000, 7.000000)",fill:"#FFFFFF",fillRule:"nonzero"},_e.createElement("path",{d:"M6.14666667,0.5 C7.619426,0.5 8.81333333,1.69390733 8.81333333,3.16666667 C8.81333333,4.46666667 7.88,5.55333333 6.64666667,5.78666667 L3.52666667,2.66666667 C3.76,1.43333333\r\n                                        4.84666667,0.5 6.14666667,0.5 M6.33333333,7.16666667 L10.3333333,11.1666667 L11.48,12.3133333 L10.6333333,13.1666667 L8.63333333,11.1666667 L0.813333333,11.1666667 L0.813333333,9.83333333\r\n                                        C0.813333333,8.60666667 2.48,7.57333333 4.72666667,7.26 L0,2.53333333 L0.846666667,1.68666667 L6.33333333,7.16666667 M11.48,9.83333333 L11.48,10.62 L8.24,7.38 C10.1466667,7.78666667\r\n                                        11.48,8.73333333 11.48,9.83333333 Z",id:"Shape"})))))},enumerable:!1,configurable:!0}),Object.defineProperty(e,"PrimaryOnlyView",{get:function(){return _e.createElement("svg",{width:"24px",height:"24px",viewBox:"0 0 24 24",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},_e.createElement("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},_e.createElement("rect",{id:"Rectangle",fill:"#000000",opacity:"0",x:"0",y:"0",width:"24",height:"24"}),_e.createElement("path",{d:"M23,19 L23,4.97999997 C23,3.87999997 22.1,2.99999996 21,2.99999996 L2.99999995,2.99999996 C1.89999996,2.99999996 0.999999954,3.87999997 0.999999954,4.97999997 L0.999999954,19\r\n                            C0.999999954,20.1 1.89999996,21 2.99999995,21 L21,21 C22.1,21 23,20.1 23,19 Z M21,19.02 L2.99999996,19.02 L2.99999996,4.96999997 L21,4.96999997 L21,19.02 Z",id:"Shape",fill:"#FFFFFF"}),_e.createElement("g",{id:"Group",transform:"translate(4.000000, 4.000000)"},_e.createElement("g",{id:"Group",transform:"translate(-0.000000, -0.000000)"},_e.createElement("path",{d:"M8.00000003,8.00000003 C9.47333337,8.00000003 10.6666667,6.8066667 10.6666667,5.33333336 C10.6666667,3.86000002 9.47333337,2.66666668 8.00000003,2.66666668 C6.52666669,2.66666668\r\n                                    5.33333336,3.86000002 5.33333336,5.33333336 C5.33333336,6.8066667 6.52666669,8.00000003 8.00000003,8.00000003 Z M8.00000003,9.33333337 C6.22000003,9.33333337 2.66666668,10.2266667\r\n                                    2.66666668,12.0000001 L2.66666668,13.3333334 L13.3333334,13.3333334 L13.3333334,12.0000001 C13.3333334,10.2266667 9.78000004,9.33333337 8.00000003,9.33333337 Z",id:"Shape",fill:"#FFFFFF"}),_e.createElement("polygon",{id:"Path",points:"0 0 16.0000001 0 16.0000001 16.0000001 0 16.0000001"})))))},enumerable:!1,configurable:!0}),Object.defineProperty(e,"SideBySideView",{get:function(){return _e.createElement("svg",{width:"24px",height:"24px",viewBox:"0 0 24 24",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},_e.createElement("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},_e.createElement("g",{id:"Tile-Copy-3"},_e.createElement("g",{id:"Group",transform:"translate(-0.000000, -0.000000)"},_e.createElement("path",{d:"M23,19 L23,4.98000002 C23,3.88000002 22.1000001,3.00000001 21,3.00000001 L3,3.00000001 C1.90000001,3.00000001 1,3.88000002 1,4.98000002 L1,19 C1,20.1000001 1.90000001,21 3,21 L21,21\r\n                            C22.1000001,21 23,20.1000001 23,19 Z M21,19.0200001 L3.00000001,19.0200001 L3.00000001,4.97000002 L21,4.97000002 L21,19.0200001 Z",id:"Shape",fill:"#FFFFFF"}),_e.createElement("polygon",{id:"Path",points:"0 0 24.0000001 0 24.0000001 24.0000001 0 24.0000001"})),_e.createElement("rect",{id:"Rectangle-Copy-2",fill:"#FFFFFF",x:"5",y:"8",width:"6",height:"8"}),_e.createElement("rect",{id:"Rectangle-Copy-5",fill:"#FFFFFF",x:"13",y:"8",width:"6",height:"8"}))))},enumerable:!1,configurable:!0}),Object.defineProperty(e,"NextSecondary",{get:function(){return _e.createElement("svg",{width:"24px",height:"24px",viewBox:"0 0 24 24",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},_e.createElement("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},_e.createElement("rect",{id:"Rectangle",fill:"#000000",opacity:"0",x:"0",y:"0",width:"24",height:"24"}),_e.createElement("g",{id:"text-box-multiple-copy",transform:"translate(0.000000, 2.000000)",fill:"#FFFFFF",fillRule:"nonzero"},_e.createElement("path",{d:"M15,13 L8,13 L8,11 L15,11 M21,9 L8,9 L8,7 L21,7 M17,5 L8,5 L8,3 L17,3 M21.7777778,0 L6.22222222,0 C4.98888889,0 4,0.791111111 4,1.77777778 L4,14.2222222 C4,15.2088889 5,16 6.22222222,16\r\n                        L21.7777778,16 C23.0111111,16 24,15.2088889 24,14.2222222 L24,1.77777778 C24,0.791111111 23,0 21.7777778,0 M2,4 L2,18 L20,18 L20,20 L2,20 C0.8954305,20 0,19.1045695 0,18 L0,4 L2,4 Z",id:"Shape"}))))},enumerable:!1,configurable:!0}),e}(),Ke=n(11),Je={insert:"head",singleton:!1},Xe=(xe()(Ke.a,Je),Ke.a.locals,n(3)),$e=n.n(Xe),et=function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},tt=function(){function e(e){this.onHotkeyAction=e,window.addEventListener("keydown",this.handleKeydown)}return e.prototype.shouldHandleEvent=function(e){var t,n=!0;return(e.target instanceof HTMLInputElement||e.target instanceof HTMLTextAreaElement||e.target instanceof HTMLAnchorElement)&&(n=!1),e.target instanceof HTMLElement&&"button"===(null===(t=e.target.attributes.getNamedItem("role"))||void 0===t?void 0:t.value)&&(n=!1),n},e.prototype.handleKeydown=function(e){var t=void 0;switch(e.key){case" ":t="togglePlayState";break;case"Home":t="seekToBeginning";break;case"End":t="seekToEnd";break;case"ArrowLeft":t=e.shiftKey?"playbackRateDown":"rewind";break;case"ArrowRight":t=e.shiftKey?"playbackRateUp":"forward";break;case"0":t="seekTo0Pct";break;case"1":t="seekTo10Pct";break;case"2":t="seekTo20Pct";break;case"3":t="seekTo30Pct";break;case"4":t="seekTo40Pct";break;case"5":t="seekTo50Pct";break;case"6":t="seekTo60Pct";break;case"7":t="seekTo70Pct";break;case"8":t="seekTo80Pct";break;case"9":t="seekTo90Pct";break;case".":t="seekToPrevious";break;case"ArrowUp":t="volumeUp";break;case"ArrowDown":t="volumeDown";break;case"M":case"m":t="toggleMuted";break;case"F":case"f":t="toggleFullscreen";break;case"C":case"c":t="toggleCaption";break;case"A":case"a":t="toggleAudioDescription";break;case"Escape":t="cancel";break;case"L":case"l":e.ctrlKey&&(t="sendLogs")}("cancel"===t||void 0!==t&&this.shouldHandleEvent(e))&&(this.onHotkeyAction(t),e.stopImmediatePropagation())},e.prototype.dispose=function(){window.removeEventListener("keydown",this.handleKeydown)},et([X],e.prototype,"handleKeydown",null),e}(),nt=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),it=function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},ot=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return nt(t,e),t.prototype.handleLayoutSwapButtonActivated=function(){var e=this.props.timelineState.playerLayoutMode,t=this.props.onLayoutRequested,n=void 0;switch(e){case L.Normal:n=L.Swapped;break;case L.Swapped:n=L.Normal}void 0!==n&&t(n)},t.prototype.handleLayoutButtonActivated=function(){var e=this.props.timelineState.playerLayoutMode,t=this.props.onLayoutRequested,n=void 0;switch(e){case L.Normal:case L.Swapped:n=L.SideBySide;break;case L.SideBySide:n=L.PrimaryOnly;break;case L.PrimaryOnly:n=L.SecondaryOnly;break;case L.SecondaryOnly:n=L.Normal}void 0!==n&&t(n)},t.prototype.getLayoutControlsOptions=function(){var e=this.props.resources,t=this.props.timelineState,n=t.playerLayoutMode,i=t.availableSecondaryCount,o=t.activePrimary,r=!(n!==L.Normal&&n!==L.Swapped||!o||(null==o?void 0:o.isAudioOnly)),a=i>1&&n!==L.PrimaryOnly,s=!(null==o?void 0:o.isAudioOnly)&&i>0,l=e.Embed_Tooltip_LayoutNormal,c=We.PictureInPictureView,u=We.SwapPlayerPositionsA;switch(n){case L.Normal:l=e.Embed_Tooltip_LayoutNormal,c=We.PictureInPictureView;break;case L.Swapped:l=e.Embed_Tooltip_LayoutNormal,c=We.PictureInPictureView,u=We.SwapPlayerPositionsB;break;case L.SideBySide:l=e.Embed_Tooltip_LayoutSideBySide,c=We.SideBySideView;break;case L.PrimaryOnly:l=e.Embed_Tooltip_LayoutPrimaryOnly,c=We.PrimaryOnlyView;break;case L.SecondaryOnly:l=e.Embed_Tooltip_LayoutSecondaryOnly,c=We.SecondaryOnlyView}return[r,a,s,l,c,u]},t.prototype.render=function(){var e=this.props,t=e.resources,n=e.timelineState,i=e.onCycleSecondaryRequested,o=this.getLayoutControlsOptions(),r=o[0],a=o[1],s=o[2],l=o[3],c=o[4],u=o[5];return _e.createElement(_e.Fragment,null,n.availableSecondaryCount>0&&_e.createElement(_e.Fragment,null,a&&_e.createElement(Z.Input.Button,{onActivate:i,className:"button-control",title:t.Embed_Tooltip_LayoutCycleSecondary},We.NextSecondary),r&&_e.createElement(Z.Input.Button,{onActivate:this.handleLayoutSwapButtonActivated,className:"button-control",title:t.Embed_Tooltip_LayoutSwap},u),s&&_e.createElement(Z.Input.Button,{onActivate:this.handleLayoutButtonActivated,className:"button-control",title:l},c)))},it([X],t.prototype,"handleLayoutSwapButtonActivated",null),it([X],t.prototype,"handleLayoutButtonActivated",null),t}(_e.Component),rt=n(12),at={insert:"head",singleton:!1},st=(xe()(rt.a,at),rt.a.locals,function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}()),lt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return st(t,e),t.prototype.render=function(){var e=this.props,t=e.resources,n=e.seekDisabled,i=e.onPlayPauseButtonActivated,o=e.onRewindButtonActivated,r=e.onForwardButtonActivated,a=this.props.timelineState,s=a.paused,l=a.isLive;return _e.createElement("div",{id:"mobilePlaybackControls"},_e.createElement(Z.Input.Button,{onActivate:o,className:$e()("button-control","rewind-forward",{"seek-disabled":n}),iconCode:"replay_10",title:t.Embed_SkipBackTenSeconds}),_e.createElement(Z.Input.Button,{onActivate:i,className:"button-control play-pause",iconCode:s?"play_arrow":"pause",title:t.Embed_Play}),_e.createElement(Z.Input.Button,{onActivate:r,disabled:l,className:$e()("button-control","rewind-forward",{"seek-disabled":n}),iconCode:"forward_10",title:t.Embed_SkipForwardTenSeconds}))},t}(_e.Component),ct=n(13),ut={insert:"head",singleton:!1},dt=(xe()(ct.a,ut),ct.a.locals,function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}()),pt=function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},At=function(e,t,n){if(n||2===arguments.length)for(var i,o=0,r=t.length;o<r;o++)!i&&o in t||(i||(i=Array.prototype.slice.call(t,0,o)),i[o]=t[o]);return e.concat(i||Array.prototype.slice.call(t))},ht="playback-rate-menu-marker",ft=function(e){function t(t){var n=e.call(this,t)||this;return n.state={showSpeedMenu:!1},n}return dt(t,e),t.prototype.componentDidMount=function(){document.addEventListener("click",this.handleDocumentClick,{capture:!0})},t.prototype.componentWillUnmount=function(){document.removeEventListener("click",this.handleDocumentClick,{capture:!0})},t.prototype.handleDocumentClick=function(e){0===e.composedPath().map((function(e){return e})).filter((function(e){var t;return null===(t=null==e?void 0:e.classList)||void 0===t?void 0:t.contains(ht)})).length&&this.setState({showSpeedMenu:!1})},t.prototype.handlePlaybackRateButtonActivated=function(){var e=this;this.setState({showSpeedMenu:!this.state.showSpeedMenu},(function(){e.state.showSpeedMenu?e.props.onShowControlsRequested():e.props.onResetHideControlsAfterBlurRequested()}))},t.prototype.handlePlaybackRateValueButtonActivated=function(e){this.setState({showSpeedMenu:!1}),this.props.onPlaybackRateRequested(e),this.props.onResetHideControlsAfterBlurRequested()},t.prototype.render=function(){var e=this,t=this.props,n=t.resources,i=t.presetPlaybackRates,o=t.showDownloadButton,r=t.showViewerButton,a=t.showCaptionButton,s=t.showAudioDescriptionButton,l=t.showFullscreenButton,c=t.isCurrentlyOnFullscreen,u=t.vspDisabled,d=t.onDownloadButtonActivated,p=t.onViewerButtonActivated,A=t.onCaptionButtonActivated,h=t.onAudioDescriptionButtonActivated,f=t.onFullscreenRequested,y=this.props.timelineState,g=y.playbackRate,m=y.captionVisible,v=y.audioDescriptionActivated,b=y.isLive;return _e.createElement("div",{id:"navigationControls"},o&&_e.createElement(Z.Input.Button,{onActivate:d,className:"button-control",iconCode:"get_app",title:n.Embed_Tooltip_Download}),r&&_e.createElement(Z.Input.Button,{onActivate:p,className:"button-control",iconCode:"call_made",title:n.Embed_Tooltip_FullViewer}),(o||r)&&_e.createElement("div",{className:"divider"}),a&&_e.createElement(Z.Input.Button,{onActivate:A,className:"button-control",iconCode:m?"closed_caption":"closed_caption_off",title:m?n.Embed_Tooltip_HideCaptions:n.Embed_Tooltip_ShowCaptions}),s&&_e.createElement(Z.Input.Button,{onActivate:h,className:"button-control",iconCode:v?"headset":"headset_off",title:v?n.Embed_Tooltip_DisableAudioDescriptions:n.Embed_Tooltip_EnableAudioDescriptions}),!u&&_e.createElement(_e.Fragment,null,_e.createElement(Z.Input.Button,{onActivate:this.handlePlaybackRateButtonActivated,className:$e()("button-control","playback-rate",ht),ariaLabel:n.Embed_Tooltip_SelectPlaybackSpeed,isMenuButton:!0,isMenuOpen:this.state.showSpeedMenu},g,"x"),_e.createElement("div",{className:$e()("playback-rate-menu",ht,{visible:this.state.showSpeedMenu})},_e.createElement("div",{className:"playback-rate-header"},"Speed"),At([],i,!0).sort((function(e,t){return t-e})).map((function(t){return _e.createElement(Z.Input.Button,{key:t,disabled:b&&t>1,className:$e()({selected:t===g,"playback-rate-item":!0}),onActivate:function(){return e.handlePlaybackRateValueButtonActivated(t)}},t,"x")})))),l&&_e.createElement(Z.Input.Button,{onActivate:f,className:"button-control",iconCode:c?"fullscreen_exit":"fullscreen",title:c?n.Embed_Tooltip_FullscreenExit:n.Embed_Tooltip_Fullscreen}))},pt([X],t.prototype,"handleDocumentClick",null),pt([X],t.prototype,"handlePlaybackRateButtonActivated",null),pt([X],t.prototype,"handlePlaybackRateValueButtonActivated",null),t}(_e.Component),yt=n(14),gt={insert:"head",singleton:!1},mt=(xe()(yt.a,gt),yt.a.locals,function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}()),vt=function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},bt=function(e){function t(t){var n=e.call(this,t)||this;return n.timeHelpers=new s.Helpers.TimeHelpers(""),n.StyledSlider=Z.Material.withStyles({root:{color:n.props.colors.trackPlayedColor,height:10,paddingBottom:10,"&:hover":{color:n.props.colors.trackPlayedActiveColor},"&:hover $thumb":{backgroundColor:n.props.colors.trackPlayedActiveColor,boxShadow:"unset !important"}},thumb:{backgroundColor:n.props.colors.trackPlayedColor,border:"2px solid currentColor",marginTop:-3},active:{boxShadow:"unset !important"},track:{height:6},rail:{height:6,opacity:1,color:n.props.colors.trackBackgroundColor,boxSizing:"border-box",border:"solid 1px",borderColor:n.props.colors.trackBorderColor}})(Z.Material.Slider),n.state={showVolume:!1,showDuration:!0,showRemaining:!1},n}return mt(t,e),t.prototype.handleVolumeControlMouseOver=function(){this.setState({showVolume:!0}),this.props.onShowControlsRequested()},t.prototype.handleVolumeControlBlur=function(e){e.currentTarget.contains(e.relatedTarget)||(this.setState({showVolume:!1}),this.props.onResetHideControlsAfterBlurRequested())},t.prototype.handleVolumeControlMouseOut=function(){this.setState({showVolume:!1}),this.props.onResetHideControlsAfterBlurRequested()},t.prototype.handleDurationActivate=function(){this.setState({showDuration:!1,showRemaining:!0}),this.props.onResetHideControlsAfterUserActionRequest()},t.prototype.handleRemainingActivate=function(){this.setState({showDuration:!0,showRemaining:!1}),this.props.onResetHideControlsAfterUserActionRequest()},t.prototype.render=function(){var e=this.props,t=e.resources,n=e.useMobileLayout,i=e.seekDisabled,o=e.onPlayPauseButtonActivated,r=e.onRewindButtonActivated,a=e.onForwardButtonActivated,s=e.onMuteUnmuteButtonActivated,l=e.onVolumeChanged,c=e.onGoLive,u=this.props.timelineState,d=u.paused,p=u.muted,A=u.volume,h=u.timelinePosition,f=u.duration,y=u.isBroadcast,g=u.isLive,m=this.state,v=m.showVolume,b=m.showDuration,P=m.showRemaining;return _e.createElement("div",{id:"playbackControls"},!n&&_e.createElement(_e.Fragment,null,_e.createElement(Z.Input.Button,{onActivate:o,className:"button-control play-pause",iconCode:d?"play_arrow":"pause",title:t.Embed_Play}),!i&&_e.createElement(Z.Input.Button,{onActivate:r,className:"button-control rewind-forward",iconCode:"replay_10",title:t.Embed_SkipBackTenSeconds}),!i&&_e.createElement(Z.Input.Button,{onActivate:a,disabled:y&&g,className:"button-control rewind-forward",iconCode:"forward_10",title:y&&g?t.Embed_SkipForwardLiveDisabled:t.Embed_SkipForwardTenSeconds})),_e.createElement("div",{className:"volume-control",onFocus:this.handleVolumeControlMouseOver,onBlur:this.handleVolumeControlBlur,onMouseOver:this.handleVolumeControlMouseOver,onMouseOut:this.handleVolumeControlMouseOut},_e.createElement(Z.Input.Button,{onActivate:s,className:"button-control",iconCode:p?"volume_off":"volume_up",title:p?t.Embed_Muted:t.Embed_Unmuted}),_e.createElement(this.StyledSlider,{className:$e()("volume-bar",{visible:!n&&v}),min:0,step:.01,max:1,value:p?0:A,onChange:l,onClick:function(e){return e.stopPropagation()}})),_e.createElement("div",{className:$e()("time-display",{visible:n||!v})},_e.createElement("span",{className:"elapsed"},this.timeHelpers.formatDuration(h,":",!1,0,!1)),!y&&b&&_e.createElement(Z.Input.Button,{className:"duration",onActivate:this.handleDurationActivate},this.timeHelpers.formatDuration(f,":",!1,0,!1)),!y&&P&&_e.createElement(Z.Input.Button,{className:"remaining",onActivate:this.handleRemainingActivate},this.timeHelpers.formatDuration(f-h,":",!1,0,!1))),y&&_e.createElement("div",{className:$e()("live-indicator",{visible:!v,"is-live":g,"is-not-live":!g})},_e.createElement(Z.Input.Button,{onActivate:c,disabled:g,className:"button-control",title:g?t.Embed_GoToLiveIsLive:t.Embed_GoToLiveIsNotLive},_e.createElement("div",{className:"icon"},""),_e.createElement("div",{className:"label"},"LIVE"))))},vt([X],t.prototype,"handleVolumeControlMouseOver",null),vt([X],t.prototype,"handleVolumeControlBlur",null),vt([X],t.prototype,"handleVolumeControlMouseOut",null),vt([X],t.prototype,"handleDurationActivate",null),vt([X],t.prototype,"handleRemainingActivate",null),t}(_e.Component),Pt=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Ct=function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},St="0.1s",Et=function(e){function t(t){var n=e.call(this,t)||this;return n.timeHelpers=new s.Helpers.TimeHelpers(""),n.isScrubbing=!1,n.isPausedBeforeScrubbing=void 0,n.StyledSlider=Z.Material.withStyles({root:{color:n.props.colors.trackPlayedColor,height:12,paddingTop:0,paddingBottom:0,"&:hover":{color:n.props.colors.trackPlayedActiveColor},"&:hover $thumb":{backgroundColor:n.props.colors.trackPlayedActiveColor,visibility:"visible",width:16,height:16,marginTop:-2,marginLeft:-7,boxShadow:"unset !important"},"&:hover $track":{height:10,marginTop:1},"&:hover $rail":{height:10,marginTop:0}},thumb:{width:0,height:0,backgroundColor:n.props.colors.trackPlayedColor,border:"1px solid currentColor",marginTop:5,marginLeft:0,visibility:"hidden",transitionProperty:"width, height, margin-top, margin-left, visibility",transitionDuration:St},active:{boxShadow:"unset !important"},disabled:{color:n.props.colors.trackPlayedColor+" !important"},track:{margin:1,marginTop:4,height:4,borderRadius:0,transitionProperty:"height, margin-top",transitionDuration:St},rail:{height:4,marginTop:3,opacity:1,color:n.props.colors.trackBackgroundColor,border:"solid 1px",borderColor:n.props.colors.trackBorderColor,borderRadius:0,transitionProperty:"height, margin-top",transitionDuration:St}})(Z.Material.Slider),n.StyledTooltip=Z.Material.withStyles({tooltip:{fontSize:13,color:n.props.colors.labelFontColor,backgroundColor:n.props.colors.labelBackgroundColor,borderRadius:0}})(Z.Material.Tooltip),n.TimelineSeekBarValueLabel=function(e){var t=e.children,i=e.open,o=e.value;return _e.createElement(n.StyledTooltip,{open:i,enterTouchDelay:0,placement:"top",title:o},t)},n.state={},n}return Pt(t,e),t.prototype.handleSliderChanged=function(e,t){var n=this.props,i=n.onPlayRequested,o=n.onSeekRequested,r=this.props.timelineState.paused;"number"==typeof t&&(this.isScrubbing||(this.isScrubbing=!0,this.isPausedBeforeScrubbing=r,i(!0)),this.isScrubbing&&this.setState({lastScrubPosition:t}),o(t))},t.prototype.handleSliderChangeCommitted=function(){var e=this.props.onPlayRequested;this.setState({lastScrubPosition:void 0}),this.isPausedBeforeScrubbing||e(!1),this.isScrubbing=!1,this.isPausedBeforeScrubbing=void 0},t.prototype.getSeekBarValue=function(){var e=this.props.timelineState,t=this.state.lastScrubPosition;return null!=t?t:e.timelinePosition},t.prototype.render=function(){var e=this;return _e.createElement(this.StyledSlider,{min:0,step:.01,max:this.props.timelineState.duration,value:this.getSeekBarValue(),disabled:this.props.disabled,onChange:this.handleSliderChanged,onChangeCommitted:this.handleSliderChangeCommitted,valueLabelDisplay:"auto",valueLabelFormat:function(t){return e.timeHelpers.formatDuration(t,":",!1,0,!1)},ValueLabelComponent:this.TimelineSeekBarValueLabel})},Ct([X],t.prototype,"handleSliderChanged",null),Ct([X],t.prototype,"handleSliderChangeCommitted",null),t}(_e.Component),wt=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Lt=function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},kt=[.5,.75,1,1.25,1.5,1.75,2],Bt=10,Tt=function(e){function t(t){var n=e.call(this,t)||this;return n.hideControlsTimeout=void 0,n.state={showControls:t.timelineState.paused,slowFadeControls:!1,showVolume:!1,showSpeedMenu:!1},n.timelineHotkeys=new tt(n.handleHotkeyAction),n}return wt(t,e),t.prototype.componentDidUpdate=function(e){var t=e.timelineState,n=this.props.timelineState;t.paused&&!n.paused&&(this.showControls(),this.hideControlsAfterDelay(500,!1)),!t.paused&&n.paused&&this.showControls()},t.prototype.componentWillUnmount=function(){this.timelineHotkeys.dispose(),window.clearTimeout(this.hideControlsTimeout)},t.prototype.showControls=function(){window.clearTimeout(this.hideControlsTimeout),this.setState({showControls:!0,slowFadeControls:!1})},t.prototype.hideControlsAfterDelay=function(e,t){var n=this;window.clearTimeout(this.hideControlsTimeout),this.hideControlsTimeout=window.setTimeout((function(){n.setState({showControls:!1,slowFadeControls:t})}),e)},t.prototype.resetHideControlsAfterUserAction=function(){this.showControls(),this.props.timelineState.paused||this.hideControlsAfterDelay(3300,!0)},t.prototype.resetHideControlsAfterBlur=function(){this.props.timelineState.paused||this.hideControlsAfterDelay(300,!0)},t.prototype.getRewindPosition=function(){return Math.max(0,this.props.timelineState.timelinePosition-this.props.timelineState.duration/Bt)},t.prototype.getForwardPosition=function(){return Math.min(this.props.timelineState.duration,this.props.timelineState.timelinePosition+this.props.timelineState.duration/Bt)},t.prototype.getSlowerPlaybackRate=function(){return kt[Math.max(0,kt.indexOf(this.props.timelineState.playbackRate)-1)]},t.prototype.getFasterPlaybackRate=function(){return kt[Math.min(kt.length-1,kt.indexOf(this.props.timelineState.playbackRate)+1)]},t.prototype.handleSeekRequested=function(e){this.lastTimelinePositionRequested=e,this.props.onSeekRequested(e)},t.prototype.handleHotkeyAction=function(e){switch(e){case"togglePlayState":this.props.onPlayRequested(!this.props.timelineState.paused);break;case"seekToBeginning":this.handleSeekRequested(0);break;case"seekToEnd":this.handleSeekRequested(this.props.timelineState.duration);break;case"rewind":this.handleSeekRequested(this.getRewindPosition());break;case"forward":this.props.timelineState.isLive||this.handleSeekRequested(this.getForwardPosition());break;case"seekTo0Pct":this.handleSeekRequested(0);break;case"seekTo10Pct":this.handleSeekRequested(this.props.timelineState.duration/Bt*1);break;case"seekTo20Pct":this.handleSeekRequested(this.props.timelineState.duration/Bt*2);break;case"seekTo30Pct":this.handleSeekRequested(this.props.timelineState.duration/Bt*3);break;case"seekTo40Pct":this.handleSeekRequested(this.props.timelineState.duration/Bt*4);break;case"seekTo50Pct":this.handleSeekRequested(this.props.timelineState.duration/Bt*5);break;case"seekTo60Pct":this.handleSeekRequested(this.props.timelineState.duration/Bt*6);break;case"seekTo70Pct":this.handleSeekRequested(this.props.timelineState.duration/Bt*7);break;case"seekTo80Pct":this.handleSeekRequested(this.props.timelineState.duration/Bt*8);break;case"seekTo90Pct":this.handleSeekRequested(this.props.timelineState.duration/Bt*9);break;case"seekToPrevious":void 0!==this.lastTimelinePositionRequested&&this.handleSeekRequested(this.lastTimelinePositionRequested);break;case"volumeUp":this.props.onVolumeRequested(Math.min(1,this.props.timelineState.volume+.1));break;case"volumeDown":this.props.onVolumeRequested(Math.max(0,this.props.timelineState.volume-.1));break;case"toggleMuted":this.props.onMuteRequested(!this.props.timelineState.muted);break;case"toggleFullscreen":this.props.onFullscreenRequested();break;case"toggleCaption":this.props.onCaptionRequested(!this.props.timelineState.captionVisible);break;case"toggleAudioDescription":this.props.onAudioDescriptionRequested(!this.props.timelineState.audioDescriptionActivated);break;case"playbackRateDown":this.props.onPlaybackRateRequested(this.getSlowerPlaybackRate());break;case"playbackRateUp":this.props.timelineState.isLive||this.props.onPlaybackRateRequested(this.getFasterPlaybackRate());break;case"cancel":this.setState({showControls:!1,showVolume:!1,showSpeedMenu:!1})}},t.prototype.handleControlsFocused=function(){this.state.showControls||this.showControls(),this.resetHideControlsAfterUserAction()},t.prototype.handleControlsBlurred=function(e){e.currentTarget.contains(e.relatedTarget)||this.resetHideControlsAfterBlur()},t.prototype.handleControlsMouseMove=function(){this.state.showControls||this.showControls(),this.resetHideControlsAfterUserAction()},t.prototype.handleControlsMouseLeave=function(){this.resetHideControlsAfterBlur()},t.prototype.handleControlsTouchEnded=function(e){(e.target===e.currentTarget||e.target.classList.contains("layer"))&&this.setState({showControls:!this.state.showControls})},t.prototype.handleCycleSecondaryRequested=function(){this.props.onCycleSecondaryRequested(),this.resetHideControlsAfterUserAction()},t.prototype.handleLayoutRequested=function(e){this.props.onLayoutRequested(e),this.resetHideControlsAfterUserAction()},t.prototype.handlePlayPauseButtonActivated=function(){var e=this.props,t=e.timelineState;(0,e.onPlayRequested)(!t.paused)},t.prototype.handleRewindButtonActivated=function(){var e=this.props.timelineState,t=Math.max(e.timelinePosition-10,0);this.handleSeekRequested(t),this.resetHideControlsAfterUserAction()},t.prototype.handleForwardButtonActivated=function(){if(!this.props.timelineState.isLive){var e=this.props.timelineState,t=Math.min(e.timelinePosition+10,e.duration);this.handleSeekRequested(t),this.resetHideControlsAfterUserAction()}},t.prototype.handleMuteUnmuteButtonActivated=function(){var e=this.props,t=e.timelineState;(0,e.onMuteRequested)(!t.muted),this.resetHideControlsAfterUserAction()},t.prototype.handleVolumeChanged=function(e,t){var n=this.props,i=n.onVolumeRequested,o=n.onMuteRequested;"number"==typeof t&&(i(t),o(0===t)),e.preventDefault()},t.prototype.handleGoLive=function(){var e=this.props.timelineState;this.handleSeekRequested(e.duration),this.resetHideControlsAfterUserAction()},t.prototype.handleDownloadButtonActivated=function(){this.props.onDownloadRequested(),this.resetHideControlsAfterUserAction()},t.prototype.handleViewerButtonActivated=function(){this.props.onViewerRequested(),this.resetHideControlsAfterUserAction()},t.prototype.handleCaptionButtonActivated=function(){var e=this.props,t=e.timelineState;(0,e.onCaptionRequested)(!t.captionVisible),this.resetHideControlsAfterUserAction()},t.prototype.handleAudioDescriptionButtonActivated=function(){var e=this.props,t=e.timelineState;(0,e.onAudioDescriptionRequested)(!t.audioDescriptionActivated),this.resetHideControlsAfterUserAction()},t.prototype.render=function(){var e=this.props,t=e.resources,n=e.timelineState,i=e.useMobileLayout,o=e.showDownloadButton,r=e.showViewerButton,a=e.showCaptionButton,s=e.showAudioDescriptionButton,l=e.showFullscreenButton,c=e.isCurrentlyOnFullscreen,u=e.seekAndVspDisabled,d=e.onPlayRequested,p=e.onFullscreenRequested,A=e.onPlaybackRateRequested,h=e.sliderColors;return _e.createElement("div",{id:"timelineControls",onFocus:this.props.useMobileLayout?void 0:this.handleControlsFocused,onBlur:this.props.useMobileLayout?void 0:this.handleControlsBlurred,onMouseMove:this.props.useMobileLayout?void 0:this.handleControlsMouseMove,onMouseLeave:this.props.useMobileLayout?void 0:this.handleControlsMouseLeave,onTouchEnd:this.props.useMobileLayout?this.handleControlsTouchEnded:void 0,onClick:this.props.useMobileLayout?void 0:this.handlePlayPauseButtonActivated,tabIndex:0,role:"region"},_e.createElement("div",{className:$e()("layer","control-layer",{visible:this.props.alwaysShowControls||this.state.showControls,"slow-fade":this.state.slowFadeControls})},_e.createElement("div",{className:"row-control"},_e.createElement("div",{className:"left-group"}),_e.createElement("div",{className:"center-group"}),_e.createElement("div",{className:"right-group"},_e.createElement(ot,{resources:t,timelineState:n,onCycleSecondaryRequested:this.handleCycleSecondaryRequested,onLayoutRequested:this.handleLayoutRequested}))),_e.createElement("div",{className:"row-filler"}),_e.createElement("div",{className:"row-control"},_e.createElement("div",{className:"seek-bar",onClick:function(e){return e.stopPropagation()}},_e.createElement(Et,{timelineState:n,disabled:u,onPlayRequested:d,onSeekRequested:this.handleSeekRequested,colors:h}))),_e.createElement("div",{className:"row-control"},_e.createElement("div",{className:"left-group"},_e.createElement(bt,{resources:t,timelineState:n,useMobileLayout:i,seekDisabled:u,onPlayPauseButtonActivated:this.handlePlayPauseButtonActivated,onRewindButtonActivated:this.handleRewindButtonActivated,onForwardButtonActivated:this.handleForwardButtonActivated,onMuteUnmuteButtonActivated:this.handleMuteUnmuteButtonActivated,onVolumeChanged:this.handleVolumeChanged,onGoLive:this.handleGoLive,onShowControlsRequested:this.showControls,onResetHideControlsAfterUserActionRequest:this.resetHideControlsAfterUserAction,onResetHideControlsAfterBlurRequested:this.resetHideControlsAfterBlur,colors:h})),_e.createElement("div",{className:"center-group"}),_e.createElement("div",{className:"right-group"},_e.createElement(ft,{resources:t,presetPlaybackRates:kt,timelineState:n,showDownloadButton:o,showViewerButton:r,showCaptionButton:a,showAudioDescriptionButton:s,showFullscreenButton:l,isCurrentlyOnFullscreen:c,vspDisabled:u,onDownloadButtonActivated:this.handleDownloadButtonActivated,onViewerButtonActivated:this.handleViewerButtonActivated,onCaptionButtonActivated:this.handleCaptionButtonActivated,onAudioDescriptionButtonActivated:this.handleAudioDescriptionButtonActivated,onFullscreenRequested:p,onPlaybackRateRequested:A,onShowControlsRequested:this.showControls,onResetHideControlsAfterBlurRequested:this.resetHideControlsAfterBlur})))),i&&_e.createElement("div",{className:$e()("layer","mobile-control-layer",{visible:this.props.alwaysShowControls||this.state.showControls})},_e.createElement(lt,{resources:t,timelineState:n,seekDisabled:u,onPlayPauseButtonActivated:this.handlePlayPauseButtonActivated,onRewindButtonActivated:this.handleRewindButtonActivated,onForwardButtonActivated:this.handleForwardButtonActivated})))},Lt([X],t.prototype,"showControls",null),Lt([X],t.prototype,"resetHideControlsAfterUserAction",null),Lt([X],t.prototype,"resetHideControlsAfterBlur",null),Lt([X],t.prototype,"handleSeekRequested",null),Lt([X],t.prototype,"handleHotkeyAction",null),Lt([X],t.prototype,"handleControlsFocused",null),Lt([X],t.prototype,"handleControlsBlurred",null),Lt([X],t.prototype,"handleControlsMouseMove",null),Lt([X],t.prototype,"handleControlsMouseLeave",null),Lt([X],t.prototype,"handleControlsTouchEnded",null),Lt([X],t.prototype,"handleCycleSecondaryRequested",null),Lt([X],t.prototype,"handleLayoutRequested",null),Lt([X],t.prototype,"handlePlayPauseButtonActivated",null),Lt([X],t.prototype,"handleRewindButtonActivated",null),Lt([X],t.prototype,"handleForwardButtonActivated",null),Lt([X],t.prototype,"handleMuteUnmuteButtonActivated",null),Lt([X],t.prototype,"handleVolumeChanged",null),Lt([X],t.prototype,"handleGoLive",null),Lt([X],t.prototype,"handleDownloadButtonActivated",null),Lt([X],t.prototype,"handleViewerButtonActivated",null),Lt([X],t.prototype,"handleCaptionButtonActivated",null),Lt([X],t.prototype,"handleAudioDescriptionButtonActivated",null),t}(_e.Component);!function(e){e[e.Audio=0]="Audio",e[e.Screen=1]="Screen",e[e.Slide=2]="Slide",e[e.Camera=3]="Camera"}(Ve||(Ve={}))}])}));
//# sourceMappingURL=file://///seasyn/jenkinsbuilds/rel_rtc_11.10.0/11.10.0.00017/_PublishedWebsites/WebUI/Scripts/Panopto/Bundles/viewer.umd.js.map